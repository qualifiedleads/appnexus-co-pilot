{"version":3,"sources":["scripts/app.js"],"names":["RootController","$window","$state","$translate","$translateLocalStorage","vm","this","Globalize","culture","get","changeLang","langKey","use","reload","advertiser","name","$inject","angular","module","controller","Main","$http","statsChart","from","to","by","method","url","params","then","res","data","statsTotals","statsCampaigns","skip","take","sort","order","stat_by","filter","statsMap","_this","service","MainController","$compile","$localStorage","$log","multipleTotalCount","checkChart","LC","instant","series","valueField","tempIndex","impressions","cpa","cpc","clicks","media","conversions","ctr","index","push","join","dataStart","dataEnd","moment","hour","subtract","unix","endOf","SelectedTime","products","ID","Name","startOf","datePiker","items","displayExpr","valueExpr","value","onValueChanged","e","totals","chartStore","DevExpress","CustomStore","totalCount","load","result","statistics","multipleStore","loadOptions","campaigns","spent","spend","conv","imp","cpm","cvr","selectedItems","chartOptionsFuncgrid","dataGridOptionsMultiple","bindingOptions","dataSource","onInitialized","dataGridOptionsMultipleFunc","component","_controllers","columns","_commandColumns","visibleIndex","showBorders","alignment","headerFilter","visible","pager","showPageSizeSelector","allowedPageSizes","showNavigationButtons","howBorders","showRowLines","caption","dataField","cellTemplate","container","options","addClass","element","id","campaign","appendTo","width","chartOptions","rowIndex","size","height","commonSeriesSettings","argumentField","type","point","hoverStyle","border","commonAxisSettings","label","grid","argumentAxis","valueMarginsEnabled","discreteAxisDivisionMode","minorGrid","minorTick","tick","legend","tooltip","enabled","customizeTooltip","arg","text","valueText","$","dxChart","selection","mode","onSelectionChanged","selectedRowsData","disabled","length","types","chartOptionsFunc","margin","bottom","verticalAlignment","horizontalAlignment","itemTextPosition","splice","CPA","CPC","CTR","clicksByCountry","dxVectorMap","vectorMapOptions","layers","viz","map","sources","world","palette","colorGroups","colorGroupingField","customize","elements","forEach","attribute","legends","source","layer","grouping","customizeText","start","end","bounds","constant","INDEX","ADVERTISER_TITLE","LEFT_NAV","HOME","CAMPAIGN","BILLING","OPTIMIZER","MAIN","DATE_PICKER","YESTERDAY","LAST_3_DAYS","LAST_7_DAYS","LAST_14_DAYS","LAST_21_DAYS","CURRENT_MONTH","LAST_MONTH","LAST_90_DAYS","ALL_TIME","TOTALS","COLUMNS","SPENT","CONV","IMP","CLICKS","CPM","CVR","STATS","CHECKBOX","IMPRESSIONS","MEDIA_SPENT","CONVERSIONS","CampaignController","$stateParams","runBlock","debug","run","routerConfig","$stateProvider","$urlRouterProvider","state","templateUrl","controllerAs","otherwise","config","$logProvider","toastrConfig","$translateProvider","RussianTranslations","EnglishTranslations","debugEnabled","translations","useSanitizeValueStrategy","preferredLanguage","useLocalStorage","storageKey","allowHtml","timeOut","positionClass","preventDuplicates","progressBar","$templateCache","put"],"mappings":"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","file":"scripts/app-e86aaec636.js","sourcesContent":["(function() {\n  'use strict';\n\n  angular\n    .module('pjtLayout', [\n      'ngAnimate',\n      'ngCookies',\n      'ngTouch',\n      'ngSanitize',\n      'ngMessages',\n      'ngAria',\n      'ngStorage',\n      'ui.router',\n      'ui.bootstrap',\n      'toastr',\n      'dx',\n      'pascalprecht.translate',\n      \"chart.js\"]);\n\n})();\n\n'use strict';\n\nangular\n  .module('pjtLayout')\n  .controller('RootController', RootController);\n\n/** @ngInject */\nfunction RootController($window, $state, $translate, $translateLocalStorage) {\n  var vm = this;\n\n  $window.Globalize.culture($translateLocalStorage.get('TRANSLATE_LANG_KEY'));\n  vm.changeLang = function(langKey) {\n    $translate.use(langKey);\n    $window.Globalize.culture(langKey);\n    $state.reload();\n  };\n  \n  vm.advertiser = {\"name\":\"Adam\"};\n\n}\n\n(function () {\n\t'use strict';\n\n\tangular\n\t\t.module('pjtLayout')\n\t\t.service('Main', Main);\n\n\t/** @ngInject */\n\tfunction Main($http) {\n\t\tvar _this = this;\n\n\t\tfunction statsChart(from, to, by) {\n\t\t\treturn $http({\n\t\t\t\tmethod: 'GET',\n\t\t\t\turl: 'http://private-anon-d71dffb7f-rtbs.apiary-mock.com/api/v1/statistics',\n\t\t\t\tparams: {from: from, to: to, by: by}\n\t\t\t})\n\t\t\t\t.then(function (res) {\n\t\t\t\t\treturn res.data;\n\t\t\t\t});\n\t\t}\n\n\t\tfunction statsTotals(from, to) {\n\t\t\treturn $http({\n\t\t\t\tmethod: 'GET',\n\t\t\t\turl: 'http://private-anon-d71dffb7f-rtbs.apiary-mock.com/api/v1/totals',\n\t\t\t\tparams: {from: from, to: to}\n\t\t\t})\n\t\t\t\t.then(function (res) {\n\t\t\t\t\treturn res.data;\n\t\t\t\t});\n\t\t}\n\n\t\tfunction statsCampaigns(from, to, skip, take,sort,order,stat_by,filter) {\n\t\t\treturn $http({\n\t\t\t\tmethod: 'GET',\n\t\t\t\turl: 'http://private-anon-d71dffb7f-rtbs.apiary-mock.com/api/v1/campaigns',\n\t\t\t\tparams: {from: from, to: to,  skip: skip, take: take, sort: sort, order: order, stat_by: stat_by, filter: filter}\n\t\t\t})\n\t\t\t\t.then(function (res) {\n\t\t\t\t\treturn res.data;\n\t\t\t\t});\n\t\t}\n\n\t\tfunction statsMap(from, to) {\n\t\t\treturn $http({\n\t\t\t\tmethod: 'GET',\n\t\t\t\turl: 'http://private-anon-d71dffb7f-rtbs.apiary-mock.com/api/v1/map/clicks',\n\t\t\t\tparams: {from: from, to: to}\n\t\t\t})\n\t\t\t\t.then(function (res) {\n\t\t\t\t\treturn res.data;\n\t\t\t\t});\n\t\t}\n\n\t\t_this.statsCampaigns = statsCampaigns;\n\t\t_this.statsTotals = statsTotals;\n\t\t_this.statsChart = statsChart;\n\t\t_this.statsMap = statsMap;\n\n\t}\n})();\n\n(function () {\n  'use strict';\n\n  angular\n    .module('pjtLayout')\n    .controller('MainController', MainController);\n\n  /** @ngInject */\n  function MainController($compile, $window, $state, $localStorage, $translate, $log, Main) {\n    var vm = this;\n    vm.Main = Main;\n    vm.multipleTotalCount = 0;\n    vm.checkChart = [];\n    vm.by = '';\n    var LC = $translate.instant;\n    /** LOCAL STORAGE CHECKBOX - START **/\n\n\n\n    if ($localStorage.series == null ){\n      $localStorage.series = [\n        { valueField: 'impressions', name: 'Impressions' },\n        { valueField: 'cpa', name: 'CPA' },\n        { valueField: 'cpc', name: 'CPC' },\n        { valueField: 'clicks', name: 'clicks' },\n        { valueField: 'media', name: 'media' },\n        { valueField: 'conversions', name: 'conversions' },\n        { valueField: 'ctr', name: 'CTR' }\n      ];\n    }\n    //$localStorage.checkChart = null;\n    var tempIndex = [];\n    if ($localStorage.checkChart == null ){\n      $localStorage.checkChart = {\n        'impressions': true,\n        'cpa': true,\n        'cpc':true,\n        'clicks': true,\n        'media': true,\n        'conversions': true,\n        'ctr': true\n      };\n      tempIndex = [];\n      for(var index in $localStorage.checkChart) {\n        if ($localStorage.checkChart[index] == true) {\n          tempIndex.push(index);\n        }\n      }\n      vm.by = tempIndex.join();\n    } else {\n      tempIndex = [];\n      for(var index in $localStorage.checkChart) {\n        if ($localStorage.checkChart[index] == true) {\n          tempIndex.push(index);\n        }\n      }\n      vm.by = tempIndex.join();\n    }\n    /** LOCAL STORAGE CHECKBOX - END **/\n\n    /** DATE PIKER - START **/\n    if ($localStorage.dataStart == null && $localStorage.dataEnd == null ){\n      $localStorage.dataStart = $window.moment({ hour: '00' }).subtract(1, 'day').unix() ;\n      $localStorage.dataEnd = $window.moment({ hour: '00' }).subtract(1, 'day').endOf('day').unix();\n    } else {\n      vm.dataStart = $localStorage.dataStart;\n      vm.dataEnd = $localStorage.dataEnd;\n    }\n    if ($localStorage.SelectedTime == null) {\n      $localStorage.SelectedTime = 0;\n    }\n\n    var products = [\n      {\n        ID: 0,\n        Name: LC('MAIN.DATE_PICKER.YESTERDAY'),\n        dataStart: $window.moment({ hour: '00' }).subtract(1, 'day').unix() ,\n        dataEnd: $window.moment({ hour: '00' }).subtract(1, 'day').endOf('day').unix()\n      }, {\n        ID: 1,\n        Name: LC('MAIN.DATE_PICKER.LAST_3_DAYS'),\n        dataStart:  $window.moment({ hour: '00' }).subtract(3, 'day').unix(),\n        dataEnd: $window.moment({ hour: '00' }).unix()\n      }, {\n        ID: 2,\n        Name: LC('MAIN.DATE_PICKER.LAST_7_DAYS'),\n        dataStart:  $window.moment({ hour: '00' }).subtract(7, 'day').unix(),\n        dataEnd: $window.moment({ hour: '00' }).unix()\n      }, {\n        ID: 3,\n        Name: LC('MAIN.DATE_PICKER.LAST_14_DAYS'),\n        dataStart:  $window.moment({ hour: '00' }).subtract(14, 'day').unix(),\n        dataEnd: $window.moment({ hour: '00' }).unix()\n      }, {\n        ID: 4,\n        Name: LC('MAIN.DATE_PICKER.LAST_21_DAYS'),\n        dataStart:  $window.moment({ hour: '00' }).subtract(21, 'day').unix(),\n        dataEnd: $window.moment({ hour: '00' }).unix()\n      }, {\n        ID: 5,\n        Name: LC('MAIN.DATE_PICKER.CURRENT_MONTH'),\n        dataStart: $window.moment().startOf('month').unix(),\n        dataEnd: $window.moment().unix()\n      }, {\n        ID: 6,\n        Name: LC('MAIN.DATE_PICKER.LAST_MONTH'),\n        dataStart: $window.moment().subtract(1, 'month').startOf('month').unix(),\n        dataEnd: $window.moment().subtract(1, 'month').endOf('month').unix()\n      }, {\n        ID: 7,\n        Name: LC('MAIN.DATE_PICKER.LAST_90_DAYS'),\n        dataStart: $window.moment({ hour: '00' }).subtract(90, 'day').unix(),\n        dataEnd: $window.moment().unix()\n      }, {\n        ID: 8,\n        Name: LC('MAIN.DATE_PICKER.ALL_TIME'),\n        dataStart: 0,\n        dataEnd: $window.moment().unix()\n      }];\n    vm.datePiker = {\n      items: products,\n      displayExpr: 'Name',\n      valueExpr: 'ID',\n      value: products[$localStorage.SelectedTime].ID,\n      onValueChanged: function (e) {\n        //$log.info(products[e.value]);\n        $localStorage.SelectedTime = e.value;\n        $localStorage.dataStart = products[e.value].dataStart;\n        $localStorage.dataEnd = products[e.value].dataEnd;\n\n        //$('#gridContainer1').dxDataGrid('instance').refresh();\n        //$('#gridContainer2').dxDataGrid('instance').refresh();\n        $state.reload();\n      }\n    };\n    /** DATE PIKER - END **/\n\n    /** BINDING OPTIONS - START **/\n    vm.totals = [];\n\n    vm.chartStore = new $window.DevExpress.data.CustomStore({\n      totalCount: function () {\n        return 0;\n      },\n      load: function () {\n        return vm.Main.statsChart(vm.dataStart, vm.dataEnd,vm.by)\n          .then(function (result) {\n            return result.statistics;\n          });\n      }\n    });\n\n    vm.multipleStore = new $window.DevExpress.data.CustomStore({\n      totalCount: function () {\n        return vm.multipleTotalCount ;\n      },\n      load: function (loadOptions) {\n        if(loadOptions.take == null) {\n          loadOptions.take = 20;\n        }\n        if(loadOptions.skip == null) {\n          loadOptions.skip = 0;\n        }\n        if(loadOptions.sort == null) {\n          loadOptions.sort = 'campaign';\n        }\n        if(loadOptions.order == null) {\n          loadOptions.order = 'DESC';\n        }\n        return vm.Main.statsCampaigns(vm.dataStart, vm.dataEnd, loadOptions.skip,\n          loadOptions.take, loadOptions.sort, loadOptions.order,\n          vm.by, loadOptions.filter)\n          .then(function (result) {\n            vm.multipleTotalCount = result.totalCount;\n            return result.campaigns;\n          });\n      }\n    });\n    /** BINDING OPTIONS - END **/\n\n    /** TOTALS - START **/\n    vm.Main.statsTotals(vm.dataStart, vm.dataEnd)\n      .then(function (result) {\n        vm.totals.spent = result.spend;\n        vm.totals.conv = result.conv;\n        vm.totals.imp = result.imp;\n        vm.totals.cpc = result.cpc;\n        vm.totals.cpm = result.cpm;\n        vm.totals.cvr = result.cvr;\n        vm.totals.ctr = result.ctr;\n      });\n    /** TOTALS - END **/\n\n    /** MULTIPLE - START **/\n    vm.selectedItems = [];\n    vm.chartOptionsFuncgrid = [];\n    vm.dataGridOptionsMultiple = {\n      bindingOptions: {\n        dataSource: 'main.multipleStore'\n      },\n      onInitialized: function (data) {\n        vm.dataGridOptionsMultipleFunc = data.component;\n        vm.dataGridOptionsMultipleFunc._controllers.columns._commandColumns[1].visibleIndex = 15;\n      },\n      showBorders: true,\n      alignment: 'left',\n      headerFilter: {\n        visible: true\n      },\n      pager: {\n        showPageSizeSelector: true,\n        allowedPageSizes: [10, 30, 50],\n        visible: true,\n        showNavigationButtons: true\n      },\n      howBorders: true,\n      showRowLines: true,\n\n      columns: [\n        {\n          caption: LC('MAIN.CAMPAIGN.COLUMNS.CAMPAIGN'),\n          dataField: 'campaign',\n          cellTemplate: function (container, options) {\n            container.addClass('a-campaign');\n            $window.angular.element('<a href=\"#/campaign/'+ options.data.id +'\">' + options.data.campaign + '</a>')\n              .appendTo(container);\n          }\n        },\n        {\n          caption: LC('MAIN.CAMPAIGN.COLUMNS.SPENT'),\n          dataField: 'spend'\n        },\n        {\n          caption: LC('MAIN.CAMPAIGN.COLUMNS.CONV'),\n          dataField: 'conv'\n        }, {\n          caption:  LC('MAIN.CAMPAIGN.COLUMNS.IMP'),\n          dataField: 'imp'\n        }, {\n          caption:  LC('MAIN.CAMPAIGN.COLUMNS.CLICKS'),\n          dataField: 'clicks'\n        }, {\n          caption:  LC('MAIN.CAMPAIGN.COLUMNS.CPC'),\n          dataField: 'cpc'\n        },\n        {\n          caption: LC('MAIN.CAMPAIGN.COLUMNS.CPM'),\n          dataField: 'cpm'\n        },\n        {\n          caption: LC('MAIN.CAMPAIGN.COLUMNS.CVR'),\n          dataField: 'cvr'\n        },\n        {\n          caption: LC('MAIN.CAMPAIGN.COLUMNS.CTR'),\n          dataField: 'ctr'\n        },\n        {\n          width: 200,\n          dataField: LC('MAIN.CAMPAIGN.COLUMNS.STATS'),\n          cellTemplate: function (container, options) {\n            var chartOptions = {\n              onInitialized: function (data) {\n                vm.chartOptionsFuncgrid[options.rowIndex] = data.component;\n              },\n              dataSource: options.data.statistics,\n              size: {\n                height: 80\n              },\n              commonSeriesSettings: {\n                argumentField: 'day',\n                type: 'line',\n                point: {\n                  size: 2,\n                  hoverStyle: {\n                    border: {\n                      visible: true,\n                      width: 1\n                    },\n                    size: 4\n                  }\n                }\n              },\n              commonAxisSettings: {\n                label: {\n                  visible: false\n                },\n                grid: { visible: false }\n              },\n              argumentAxis: {\n                valueMarginsEnabled: false,\n                discreteAxisDivisionMode: 'crossLabels',\n                grid: {\n                  visible: false\n                },\n                label: {\n                  visible: false\n                },\n                minorGrid: {\n                  visible: false\n                },\n                minorTick: {\n                  visible: false\n                },\n                tick: {\n                  visible: false\n                }\n              },\n              series: $localStorage.series,\n              legend: {\n                visible: false\n              },\n              tooltip: {\n                enabled: true,\n                customizeTooltip: function (arg) {\n                  return {\n                    text: arg.valueText\n                  };\n                }\n              }\n            };\n\n            container.addClass('img-container');\n            $window.angular.element('<div id=\"chartMulti' + options.rowIndex + '\" ></div>')\n\n            //.attr(\"src\", options.value)\n              .appendTo(container);\n            $window.$('#chartMulti' + options.rowIndex).dxChart(chartOptions).dxChart('instance');\n          }\n        }],\n      selection: {\n        mode: 'multiple'\n      },\n      onSelectionChanged: function (data) {\n        vm.selectedItems = data.selectedRowsData;\n        vm.disabled = !vm.selectedItems.length;\n      }\n    };\n    /** MULTIPLE - END **/\n\n    /** BIG DIAGRAM  - START **/\n    vm.types = ['line', 'stackedLine', 'fullStackedLine'];\n\n    var series = [\n      { valueField: 'impressions', name: 'Impressions' },\n      { valueField: 'cpa', name: 'CPA' },\n      { valueField: 'cpc', name: 'CPC' },\n      { valueField: 'clicks', name: 'clicks' },\n      { valueField: 'media', name: 'media' },\n      { valueField: 'conversions', name: 'conversions' },\n      { valueField: 'ctr', name: 'CTR' }\n    ];\n\n    vm.chartOptions = {\n      onInitialized: function (data) {\n        vm.chartOptionsFunc = data.component;\n      },\n      series: $localStorage.series,\n      size: {\n        width: 500,\n        height: 230\n      },\n      bindingOptions: {\n        dataSource: 'main.chartStore'\n      },\n      commonSeriesSettings: {\n        argumentField: 'day',\n        type: vm.types[0],\n        point: {\n          size: 3,\n          hoverStyle: {\n            border: {\n              visible: true,\n              width: 2\n            },\n            size: 5\n          }\n        }\n\n      },\n      margin: {\n        bottom: 20\n      },\n      argumentAxis: {\n        valueMarginsEnabled: false,\n        discreteAxisDivisionMode: 'crossLabels',\n        grid: {\n          visible: true\n        }\n      },\n      legend: {\n        verticalAlignment: 'bottom',\n        horizontalAlignment: 'center',\n        itemTextPosition: 'bottom'\n      },\n      tooltip: {\n        enabled: true,\n        customizeTooltip: function (arg) {\n          return {\n            text: arg.valueText\n          };\n        }\n      }\n    };\n    /** BIG DIAGRAM  - END **/\n\n    /** CHECKBOX CHART - START **/\n    vm.impressions = {\n      text: LC('MAIN.CHECKBOX.IMPRESSIONS'),\n      value: $localStorage.checkChart.impressions? true:false,\n      onValueChanged: function (e) {\n        if (e.value == true) {\n          $localStorage.checkChart.impressions = true;\n          $localStorage.series.push({ valueField: 'impressions', name: 'Impressions' });\n          $state.reload();\n        } else {\n          $localStorage.checkChart.impressions = false;\n          for(var index in $localStorage.series) {\n            if ($localStorage.series[index].valueField == 'impressions') {\n              $localStorage.series.splice(index, 1);\n            }\n          }\n          $state.reload();\n        }\n      }\n    };\n\n    vm.CPA = {\n      text: LC('MAIN.CHECKBOX.CPA'),\n      value: $localStorage.checkChart.cpa? true:false,\n      onValueChanged: function (e) {\n        if (e.value == true) {\n          $localStorage.checkChart.cpa = true;\n          $localStorage.series.push({ valueField: 'cpa', name: 'CPA' });\n          $state.reload();\n        } else {\n          $localStorage.checkChart.cpa = false;\n          for(var index in $localStorage.series) {\n            if ($localStorage.series[index].valueField == 'cpa') {\n              $localStorage.series.splice(index, 1);\n            }\n          }\n          $state.reload();\n        }\n      }\n    };\n\n    vm.CPC = {\n      text: LC('MAIN.CHECKBOX.CPC'),\n      value: $localStorage.checkChart.cpc? true:false,\n      onValueChanged: function (e) {\n        if (e.value == true) {\n          $localStorage.checkChart.cpc = true;\n          $localStorage.series.push({ valueField: 'cpc', name: 'CPC' });\n          $state.reload();\n        } else {\n          $localStorage.checkChart.cpc = false;\n          for(var index in $localStorage.series) {\n            if ($localStorage.series[index].valueField == 'cpc') {\n              $localStorage.series.splice(index, 1);\n            }\n          }\n          $state.reload();\n        }\n      }\n    };\n    vm.clicks = {\n      text: LC('MAIN.CHECKBOX.CLICKS'),\n      value: $localStorage.checkChart.clicks? true:false,\n      onValueChanged: function (e) {\n        if (e.value == true) {\n          $localStorage.checkChart.clicks = true;\n          $localStorage.series.push({ valueField: 'clicks', name: 'clicks' });\n          $state.reload();\n        } else {\n          $localStorage.checkChart.clicks = false;\n          for(var index in $localStorage.series) {\n            if ($localStorage.series[index].valueField == 'clicks') {\n              $localStorage.series.splice(index, 1);\n            }\n          }\n          $state.reload();\n        }\n      }\n    };\n    vm.media = {\n      text: LC('MAIN.CHECKBOX.MEDIA_SPENT'),\n      value: $localStorage.checkChart.media? true:false,\n      onValueChanged: function (e) {\n        if (e.value == true) {\n          $localStorage.checkChart.media = true;\n          $localStorage.series.push({ valueField: 'media', name: 'media' });\n          $state.reload();\n        } else {\n          $localStorage.checkChart.media = false;\n          for(var index in $localStorage.series) {\n            if ($localStorage.series[index].valueField == 'media') {\n              $localStorage.series.splice(index, 1);\n            }\n          }\n          $state.reload();\n        }\n      }\n    };\n    vm.conversions = {\n      text: LC('MAIN.CHECKBOX.CONVERSIONS'),\n      value: $localStorage.checkChart.conversions? true:false,\n      onValueChanged: function (e) {\n        if (e.value == true) {\n          $localStorage.checkChart.conversions = true;\n          $localStorage.series.push({ valueField: 'conversions', name: 'conversions' });\n          $state.reload();\n        } else {\n          $localStorage.checkChart.conversions = false;\n          for(var index in $localStorage.series) {\n            if ($localStorage.series[index].valueField == 'conversions') {\n              $localStorage.series.splice(index, 1);\n            }\n          }\n          $state.reload();\n        }\n      }\n    };\n    vm.CTR = {\n      text: LC('MAIN.CHECKBOX.CTR'),\n      value: $localStorage.checkChart.ctr? true:false,\n      onValueChanged: function (e) {\n        if (e.value == true) {\n          $localStorage.checkChart.ctr = true;\n          $localStorage.series.push({ valueField: 'ctr', name: 'CTR' });\n          $state.reload();\n        } else {\n          $localStorage.checkChart.ctr = false;\n          for(var index in $localStorage.series) {\n            if ($localStorage.series[index].valueField == 'ctr') {\n              $localStorage.series.splice(index, 1);\n            }\n          }\n          $state.reload();\n        }\n      }\n    };\n    /** CHECKBOX CHART - END **/\n\n    /** MAP CLICKS - START **/\n    var clicksByCountry = {};\n\n    vm.Main.statsMap(vm.dataStart, vm.dataEnd).then(function (res) {\n      clicksByCountry = res;\n      $('#visualMap').dxVectorMap(vm.vectorMapOptions);\n    });\n\n    vm.vectorMapOptions = {\n      size: {\n        width: 500,\n        height: 350\n      },\n      layers: [{\n        name: 'areas',\n        dataSource: $window.DevExpress.viz.map.sources.world,\n        palette: 'blue',\n        colorGroups: [0, 100, 1000, 10000],\n        colorGroupingField: 'clicks',\n        label: {\n          enabled: true,\n          dataField: 'name'\n        },\n        customize: function (elements) {\n          elements.forEach(function (element) {\n            var name = element.attribute('name');\n            var clicks = clicksByCountry[name];\n            if (clicks) {\n              element.attribute('clicks', clicks);\n            }\n          });\n        }\n      }],\n      tooltip: {\n        enabled: true,\n        customizeTooltip: function (arg) {\n          return { text: arg.attribute('text') };\n        }\n      },\n      legends: [{\n        source: { layer: 'areas', grouping: 'color' },\n        horizontalAlignment: 'left',\n        verticalAlignment: 'bottom',\n        customizeText: function (arg) {\n          return arg.start + ' to ' + arg.end + ' clicks';\n        }\n      }],\n      bounds: [-180, 85, 180, -75]\n    };\n    /** MAP CLICKS - START **/\n\n  }\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('pjtLayout')\n    .constant('RussianTranslations', {\n      'INDEX':{\n        'ADVERTISER_TITLE':'Статистика для',\n        'LEFT_NAV':{\n          'HOME':\"Главная\",\n          'CAMPAIGN':\"Кампания\",\n          'BILLING':\"Биллинг\",\n          'OPTIMIZER':\"Оптимизатор\"\n        }\n      },\n      'MAIN': {\n        'HOME':\"Главная\",\n\n        'DATE_PICKER': {\n          'YESTERDAY': 'Вчера',\n          'LAST_3_DAYS': 'Последние 3 дня',\n          'LAST_7_DAYS': 'Последние 7 дней',\n          'LAST_14_DAYS': 'Последние 14 дней',\n          'LAST_21_DAYS': 'Последние 21 дней',\n          'CURRENT_MONTH': 'Текущий месяц',\n          'LAST_MONTH': 'Прошлый месяц',\n\t        'LAST_90_DAYS': 'Последние 90 дней',\n          'ALL_TIME': 'Все время'\n        },\n        'TOTALS': {\n          'COLUMNS':{\n            \"TOTALS\":\"ИТОГИ\",\n            \"SPENT\":\"Потрачено\",\n            \"CONV\":\"Конв\",\n            \"IMP\":\"Показы\",\n            \"CLICKS\":\"Клики\",\n            \"CPC\":\"CPC\",\n            \"CPM\":\"CPM\",\n            \"CVR\":\"CVR\",\n            \"CTR\":\"CTR\"\n          }\n        },\n        'CAMPAIGN': {\n          'COLUMNS':{\n            \"CAMPAIGN\":\"Кампания\",\n            \"SPENT\":\"Потрачено\",\n            \"CONV\":\"Конв\",\n            \"IMP\":\"Показы\",\n            \"CLICKS\":\"Клики\",\n            \"CPC\":\"CPC\",\n            \"CPM\":\"CPM\",\n            \"CVR\":\"CVR\",\n            \"CTR\":\"CTR\",\n            \"STATS\":\"Стат\"\n          }\n        },\n        'CHECKBOX':{\n          \"IMPRESSIONS\":\"Показы\",\n          \"CPA\":\"CPA\",\n          \"CPC\":\"CPC\",\n          \"CLICKS\":\"Клики\",\n          \"MEDIA_SPENT\":\"Потр на медий рекл\",\n          \"CONVERSIONS\":\"Конверсии\",\n          \"CTR\":\"CTR\"\n        }\n      }\n    })\n\n})();\n\n(function() {\n\t'use strict';\n\n\tangular\n\t\t.module('pjtLayout')\n\t\t.constant('EnglishTranslations', {\n\t\t\t'INDEX':{\n\t\t\t\t'ADVERTISER_TITLE':'Stats for',\n\t\t\t\t'LEFT_NAV':{\n\t\t\t\t\t'HOME':\"Home\",\n\t\t\t\t\t'CAMPAIGN':\"Campaign\",\n\t\t\t\t\t'BILLING':\"Billing\",\n\t\t\t\t\t'OPTIMIZER':\"Optimizer\"\n\t\t\t\t}\n\t\t\t},\n\t\t\t'MAIN': {\n\t\t\t\t'HOME':\"Home\",\n\n\t\t\t\t'DATE_PICKER': {\n\t\t\t\t\t'YESTERDAY': 'Yesterday',\n\t\t\t\t\t'LAST_3_DAYS': 'Last 3 days',\n\t\t\t\t\t'LAST_7_DAYS': 'Last 7 days',\n\t\t\t\t\t'LAST_14_DAYS': 'Last 14 days',\n\t\t\t\t\t'LAST_21_DAYS': 'Last 21 days',\n\t\t\t\t\t'CURRENT_MONTH': 'Current month',\n\t\t\t\t\t'LAST_MONTH': 'Last month',\n\t\t\t\t\t'LAST_90_DAYS': 'Last 90 days',\n\t\t\t\t\t'ALL_TIME': 'All times'\n\t\t\t\t},\n\t\t\t\t'TOTALS': {\n\t\t\t\t\t'COLUMNS':{\n\t\t\t\t\t\t\"TOTALS\":\"TOTALS\",\n\t\t\t\t\t\t\"SPENT\":\"Spent\",\n\t\t\t\t\t\t\"CONV\":\"Conv\",\n\t\t\t\t\t\t\"IMP\":\"Imp\",\n\t\t\t\t\t\t\"CLICKS\":\"Clicks\",\n\t\t\t\t\t\t\"CPC\":\"CPC\",\n\t\t\t\t\t\t\"CPM\":\"CPM\",\n\t\t\t\t\t\t\"CVR\":\"CVR\",\n\t\t\t\t\t\t\"CTR\":\"CTR\"\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t'CAMPAIGN': {\n\t\t\t\t\t'COLUMNS':{\n\t\t\t\t\t\t\"CAMPAIGN\":\"Campaign\",\n\t\t\t\t\t\t\"SPENT\":\"Spent\",\n\t\t\t\t\t\t\"CONV\":\"Conv\",\n\t\t\t\t\t\t\"IMP\":\"Imp\",\n\t\t\t\t\t\t\"CLICKS\":\"Clicks\",\n\t\t\t\t\t\t\"CPC\":\"CPC\",\n\t\t\t\t\t\t\"CPM\":\"CPM\",\n\t\t\t\t\t\t\"CVR\":\"CVR\",\n\t\t\t\t\t\t\"CTR\":\"CTR\",\n\t\t\t\t\t\t\"STATS\":\"Stats\"\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t'CHECKBOX':{\n\t\t\t\t\t\"IMPRESSIONS\":\"Impressions\",\n\t\t\t\t\t\"CPA\":\"CPA\",\n\t\t\t\t\t\"CPC\":\"CPC\",\n\t\t\t\t\t\"CLICKS\":\"Clicks\",\n\t\t\t\t\t\"MEDIA_SPENT\":\"Media Spent\",\n\t\t\t\t\t\"CONVERSIONS\":\"Conversions\",\n\t\t\t\t\t\"CTR\":\"CTR\"\n\t\t\t\t}\n\t\t\t}\n\t\t})\n\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('pjtLayout')\n    .controller('CampaignController', CampaignController);\n\n  /** @ngInject */\n  function CampaignController($stateParams) {\n    var vm = this;\n\n    //console.log($stateParams.id);\n\n  }\n})();\n\n(function () {\n  'use strict';\n\n  angular\n    .module('pjtLayout')\n    .run(runBlock);\n\n  /** @ngInject */\n  function runBlock($log) {\n\n    $log.debug('runBlock end');\n  }\n\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('pjtLayout')\n    .config(routerConfig);\n\n  /** @ngInject */\n  function routerConfig($stateProvider, $urlRouterProvider) {\n    $stateProvider\n      .state('home', {\n        url: '/',\n        templateUrl: 'app/main/main.html',\n        controller: 'MainController',\n        controllerAs: 'main'\n      })\n      .state('campaign', {\n        url: '/campaign/:id',\n        templateUrl: 'app/campaign/camp.html',\n        controller: 'CampaignController',\n        controllerAs: 'camp'\n      });\n\n    $urlRouterProvider.otherwise('/');\n  }\n\n})();\n\n(function () {\n  'use strict';\n\n  angular\n    .module('pjtLayout');\n})();\n\n(function () {\n  'use strict';\n\n  angular\n    .module('pjtLayout')\n    .config(config);\n\n  /** @ngInject */\n  function config($logProvider, toastrConfig,\n                  $translateProvider, RussianTranslations, EnglishTranslations) {\n    // Enable log\n    $logProvider.debugEnabled(true);\n\n    $translateProvider.translations('en', EnglishTranslations);\n    $translateProvider.translations('ru', RussianTranslations);\n\n    $translateProvider.useSanitizeValueStrategy('escape');\n    $translateProvider.preferredLanguage('ru');\n    $translateProvider.useLocalStorage();\n    $translateProvider.storageKey('TRANSLATE_LANG_KEY');\n\n    // Set options third-party lib\n    toastrConfig.allowHtml = true;\n    toastrConfig.timeOut = 3000;\n    toastrConfig.positionClass = 'toast-top-right';\n    toastrConfig.preventDuplicates = true;\n    toastrConfig.progressBar = true;\n  }\n\n})();\n\nangular.module(\"pjtLayout\").run([\"$templateCache\", function($templateCache) {$templateCache.put(\"app/main/main.html\",\"<div class=\\\"container-home col-md-10 col-lg-offset-2 col-md-10 col-lg-offset-2\\\"><h1 translate=MAIN.HOME>Home</h1><div class=\\\"col-md-3 col-md-offset-8 piker\\\"><div dx-select-box=main.datePiker></div></div><div class=row><div id=container><div class=\\\"col-md-6 contLeft\\\"><div dx-chart=main.chartOptions id=chart></div><div class=col-md-12><div class=checkbox-container><label class=label-checkbox><div dx-check-box=main.impressions></div></label><label class=label-checkbox><div dx-check-box=main.CPA></div></label><label class=label-checkbox><div dx-check-box=main.CPC></div></label><label class=label-checkbox><div dx-check-box=main.clicks></div></label></div><div class=checkbox-container><label class=label-checkbox><div dx-check-box=main.media></div></label><label class=label-checkbox><div dx-check-box=main.conversions></div></label><label class=label-checkbox><div dx-check-box=main.CTR></div></label></div></div></div><div id=visualMap></div></div></div><div class=\\\"row first-grid table-responsive\\\"><table class=\\\"table table-bordered\\\"><tr><td translate=MAIN.TOTALS.COLUMNS.TOTALS></td><td translate=MAIN.TOTALS.COLUMNS.SPENT></td><td translate=MAIN.TOTALS.COLUMNS.CONV></td><td translate=MAIN.TOTALS.COLUMNS.IMP></td><td translate=MAIN.TOTALS.COLUMNS.CPC></td><td translate=MAIN.TOTALS.COLUMNS.CPM></td><td translate=MAIN.TOTALS.COLUMNS.CVR></td><td translate=MAIN.TOTALS.COLUMNS.CTR></td></tr><tr><td></td><td>{{main.totals.spent}}</td><td>{{main.totals.conv}}</td><td>{{main.totals.imp}}</td><td>{{main.totals.cpc}}</td><td>{{main.totals.cpm}}</td><td>{{main.totals.cvr}}</td><td>{{main.totals.ctr}}</td></tr></table></div><div class=\\\"row second-grid\\\"><div id=gridContainer2 dx-data-grid=main.dataGridOptionsMultiple></div></div></div>\");\n$templateCache.put(\"app/campaign/camp.html\",\"<div class=\\\"container-camp col-md-10 col-lg-offset-2 col-md-10 col-lg-offset-2\\\"><h1 translate=USERS.TITLE>Home</h1><div class=row><div id=container><div dx-vector-map=camp.vectorMapOptions id=visualMap></div></div></div></div>\");}]);"],"sourceRoot":"/source/"}
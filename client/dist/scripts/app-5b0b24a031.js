function RootController(e,a,t,i,n){function s(){n.remove("permission"),n.remove("token"),a.go("auth")}var o=this;e.Globalize.culture(i.get("TRANSLATE_LANG_KEY")),o.changeLang=function(i){t.use(i),e.Globalize.culture(i),a.reload()},o.logout=s}RootController.$inject=["$window","$state","$translate","$translateLocalStorage","$cookies"],function(){"use strict";angular.module("pjtLayout",["ngAnimate","ngCookies","ngTouch","ngSanitize","ngMessages","ngAria","ui.router","ui.bootstrap","toastr","dx","pascalprecht.translate","chart.js","ngStorage"])}(),angular.module("pjtLayout").controller("RootController",RootController),function(){"use strict";function e(e,a,t){function i(i,n,s,o){return e({method:"GET",url:"/api/v1/statistics",headers:{Authorization:"Token "+t.get("token")},params:{advertiser_id:i,from_date:n,to_date:s,by:o}}).then(function(e){for(var t in e.data.statistics)e.data.statistics[t].cvr=+parseFloat(e.data.statistics[t].cvr).toFixed(4),e.data.statistics[t].ctr=+parseFloat(e.data.statistics[t].ctr).toFixed(4),e.data.statistics[t].cpc=+parseFloat(e.data.statistics[t].cpc).toFixed(2),e.data.statistics[t].cpm=+parseFloat(e.data.statistics[t].cpm).toFixed(4),e.data.statistics[t].spend=+parseFloat(e.data.statistics[t].spend).toFixed(2),e.data.statistics[t].day=a.moment(e.data.statistics[t].day).format("DD/MM");return e.data})}function n(a,i,n){return e({method:"GET",url:"/api/v1/totals",headers:{Authorization:"Token "+t.get("token")},params:{advertiser_id:a,from_date:i,to_date:n}}).then(function(e){return e.data.totals.cvr=+parseFloat(e.data.totals.cvr).toFixed(4),e.data.totals.ctr=+parseFloat(e.data.totals.ctr).toFixed(4),e.data.totals.cpc=+parseFloat(e.data.totals.cpc).toFixed(2),e.data.totals.cpm=+parseFloat(e.data.totals.cpm).toFixed(2),e.data.totals.spend=+parseFloat(e.data.totals.spend).toFixed(2),e.data.totals})}function s(a,i,n,s,o,r,d,l,c){return r?(d=r[0].desc===!0?"desc":"asc",r=r[0].selector):(r="campaign",d="DESC"),null==o&&(o=20),null==s&&(s=0),e({method:"GET",url:"/api/v1/campaigns",headers:{Authorization:"Token "+t.get("token")},params:{advertiser_id:a,from_date:i,to_date:n,skip:s,take:o,sort:r,order:d,stat_by:l,filter:c}}).then(function(e){for(var a in e.data.campaigns){for(var t in e.data.campaigns[a].chart)e.data.campaigns[a].chart[t].conv=+parseFloat(e.data.campaigns[a].chart[t].conv).toFixed(4),e.data.campaigns[a].chart[t].cpc=+parseFloat(e.data.campaigns[a].chart[t].cpc).toFixed(2),e.data.campaigns[a].chart[t].ctr=+parseFloat(e.data.campaigns[a].chart[t].ctr).toFixed(4),e.data.campaigns[a].chart[t].cvr=+parseFloat(e.data.campaigns[a].chart[t].cvr).toFixed(4),e.data.campaigns[a].chart[t].spend=+parseFloat(e.data.campaigns[a].chart[t].spend).toFixed(2);e.data.campaigns[a].cvr=+parseFloat(e.data.campaigns[a].cvr).toFixed(4),e.data.campaigns[a].ctr=+parseFloat(e.data.campaigns[a].ctr).toFixed(4),e.data.campaigns[a].cpc=+parseFloat(e.data.campaigns[a].cpc).toFixed(4),e.data.campaigns[a].cpm=+parseFloat(e.data.campaigns[a].cpm).toFixed(4),e.data.campaigns[a].spend=+parseFloat(e.data.campaigns[a].spend).toFixed(4),e.data.campaigns[a].imps_viewed=+parseFloat(e.data.campaigns[a].imps_viewed).toFixed(4),e.data.campaigns[a].view_measured_imps=+parseFloat(e.data.campaigns[a].view_measured_imps).toFixed(4),e.data.campaigns[a].view_measurement_rate=+parseFloat(e.data.campaigns[a].view_measurement_rate).toFixed(1),e.data.campaigns[a].view_rate=+parseFloat(e.data.campaigns[a].view_rate).toFixed(1)}return e.data})}function o(a,i,n){return e({method:"GET",url:"/api/v1/map/clicks",headers:{Authorization:"Token "+t.get("token")},params:{advertiser_id:a,from_date:i,to_date:n}}).then(function(e){return e.data})}var r=this;r.statsCampaigns=s,r.statsTotals=n,r.statsChart=i,r.statsMap=o}e.$inject=["$http","$window","$cookies"],angular.module("pjtLayout").service("Main",e)}(),function(){"use strict";function e(e,a,t,i,n,s){function o(){for(var e in i.checkChart)i.checkChart[e]?"imp"==e?r.chartOptionsFunc.getSeriesByName("Impressions").show():"cvr"==e?r.chartOptionsFunc.getSeriesByName("CVR").show():"cpc"==e?r.chartOptionsFunc.getSeriesByName("CPC").show():"clicks"==e?r.chartOptionsFunc.getSeriesByName("clicks").show():"spend"==e?r.chartOptionsFunc.getSeriesByName("media").show():"conv"==e?r.chartOptionsFunc.getSeriesByName("conversions").show():"ctr"==e&&r.chartOptionsFunc.getSeriesByName("CTR").show():"imp"==e?r.chartOptionsFunc.getSeriesByName("Impressions").hide():"cvr"==e?r.chartOptionsFunc.getSeriesByName("CVR").hide():"cpc"==e?r.chartOptionsFunc.getSeriesByName("CPC").hide():"clicks"==e?r.chartOptionsFunc.getSeriesByName("clicks").hide():"spend"==e?r.chartOptionsFunc.getSeriesByName("media").hide():"conv"==e?r.chartOptionsFunc.getSeriesByName("conversions").hide():"ctr"==e&&r.chartOptionsFunc.getSeriesByName("CTR").hide()}var r=this;r.advertiser=i.advertiser,r.Main=s,r.multipleTotalCount=0,r.checkChart=[],r.Init=[],r.by="imp,cvr,cpc,clicks,spend,conv,ctr";var d=n.instant;null==i.checkChart&&(i.checkChart={imp:!0,cvr:!1,cpc:!1,clicks:!1,spend:!1,conv:!1,ctr:!1}),r.chartSeries=[{valueField:"imp",name:"Impressions",axis:"imp",visible:i.checkChart.imp},{valueField:"cvr",name:"CVR",axis:"cvr",visible:i.checkChart.cvr},{valueField:"cpc",name:"CPC",axis:"cpc",visible:i.checkChart.cpc},{valueField:"clicks",name:"clicks",axis:"clicks",visible:i.checkChart.clicks},{valueField:"spend",name:"media",axis:"spend",visible:i.checkChart.spend},{valueField:"conv",name:"conversions",axis:"conv",visible:i.checkChart.conv},{valueField:"ctr",name:"CTR",axis:"ctr",visible:i.checkChart.ctr}],null==i.SelectedTime?(i.SelectedTime=0,i.dataStart=e.moment({hour:"00"}).subtract(1,"day").unix(),i.dataEnd=e.moment({hour:"00"}).subtract(1,"day").endOf("day").unix(),r.dataStart=e.moment({hour:"00"}).subtract(1,"day").unix(),r.dataEnd=e.moment({hour:"00"}).subtract(1,"day").endOf("day").unix()):null==i.dataStart||null==i.dataEnd?(i.SelectedTime=0,i.dataStart=e.moment({hour:"00"}).subtract(1,"day").unix(),i.dataEnd=e.moment({hour:"00"}).subtract(1,"day").endOf("day").unix(),r.dataStart=e.moment({hour:"00"}).subtract(1,"day").unix(),r.dataEnd=e.moment({hour:"00"}).subtract(1,"day").endOf("day").unix()):(r.dataStart=i.dataStart,r.dataEnd=i.dataEnd);var l=[{ID:0,Name:d("MAIN.DATE_PICKER.YESTERDAY"),dataStart:e.moment({hour:"00"}).subtract(1,"day").unix(),dataEnd:e.moment({hour:"00"}).subtract(1,"day").endOf("day").unix()},{ID:1,Name:d("MAIN.DATE_PICKER.LAST_3_DAYS"),dataStart:e.moment({hour:"00"}).subtract(3,"day").unix(),dataEnd:e.moment({hour:"00"}).unix()},{ID:2,Name:d("MAIN.DATE_PICKER.LAST_7_DAYS"),dataStart:e.moment({hour:"00"}).subtract(7,"day").unix(),dataEnd:e.moment({hour:"00"}).unix()},{ID:3,Name:d("MAIN.DATE_PICKER.LAST_14_DAYS"),dataStart:e.moment({hour:"00"}).subtract(14,"day").unix(),dataEnd:e.moment({hour:"00"}).unix()},{ID:4,Name:d("MAIN.DATE_PICKER.LAST_21_DAYS"),dataStart:e.moment({hour:"00"}).subtract(21,"day").unix(),dataEnd:e.moment({hour:"00"}).unix()},{ID:5,Name:d("MAIN.DATE_PICKER.CURRENT_MONTH"),dataStart:e.moment().startOf("month").unix(),dataEnd:e.moment().unix()},{ID:6,Name:d("MAIN.DATE_PICKER.LAST_MONTH"),dataStart:e.moment().subtract(1,"month").startOf("month").unix(),dataEnd:e.moment().subtract(1,"month").endOf("month").unix()},{ID:7,Name:d("MAIN.DATE_PICKER.LAST_90_DAYS"),dataStart:e.moment({hour:"00"}).subtract(90,"day").unix(),dataEnd:e.moment().unix()},{ID:8,Name:d("MAIN.DATE_PICKER.ALL_TIME"),dataStart:0,dataEnd:e.moment().unix()}];r.datePiker={items:l,displayExpr:"Name",valueExpr:"ID",value:l[i.SelectedTime].ID,onValueChanged:function(e){i.SelectedTime=e.value,i.dataStart=l[e.value].dataStart,i.dataEnd=l[e.value].dataEnd,a.reload()}},r.totals=[],r.chartStore=new e.DevExpress.data.CustomStore({totalCount:function(){return 0},load:function(){return r.Main.statsChart(r.advertiser.id,r.dataStart,r.dataEnd,r.by).then(function(e){return e.statistics})}}),r.multipleStore=new e.DevExpress.data.CustomStore({totalCount:function(){return r.multipleTotalCount},load:function(e){return e.searchOperation&&e.dataField&&(e.take=999999),r.Main.statsCampaigns(r.advertiser.id,r.dataStart,r.dataEnd,e.skip,e.take,e.sort,e.order,r.by,e.filter).then(function(e){return r.multipleTotalCount=e.totalCount,e.campaigns})}}),r.Main.statsTotals(r.advertiser.id,r.dataStart,r.dataEnd).then(function(e){r.totals.imp=e.imp.toString().split(/(?=(?:\d{3})+(?!\d))/).join(),r.totals.spent=e.spend.toFixed(2),r.totals.conv=e.conv,r.totals.cpc=e.cpc,r.totals.cpm=e.cpm,r.totals.cvr=e.cvr,r.totals.ctr=e.ctr}),r.selectedItems=[],r.chartOptionsFuncgrid=[],r.dataGridOptionsMultiple={bindingOptions:{dataSource:"main.multipleStore"},onInitialized:function(e){r.dataGridOptionsMultipleFunc=e.component},showBorders:!0,alignment:"left",headerFilter:{visible:!0},filterRow:{visible:!0,applyFilter:"auto"},"export":{enabled:!0,fileName:"Employees"},allowColumnReordering:!0,allowColumnResizing:!0,columnAutoWidth:!0,wordWrapEnabled:!0,columnChooser:{enabled:!0},columnFixing:{enabled:!0},paging:{pageSize:10},pager:{showPageSizeSelector:!0,allowedPageSizes:[10,30,50],visible:!0,showNavigationButtons:!0},howBorders:!0,showRowLines:!0,columns:[{caption:d("MAIN.CAMPAIGN.COLUMNS.CAMPAIGN"),dataField:"campaign",fixed:!0,cellTemplate:function(a,t){a.addClass("a-campaign"),e.angular.element('<a href="#/home/campaign/'+t.data.id+'">'+t.data.campaign+"</a>").appendTo(a)},alignment:"center"},{caption:d("MAIN.CAMPAIGN.COLUMNS.SPENT")+" ,$",dataField:"spend",alignment:"center",format:"fixedPoint"},{caption:d("MAIN.CAMPAIGN.COLUMNS.CONV"),dataField:"conv",alignment:"center",format:"fixedPoint"},{caption:d("MAIN.CAMPAIGN.COLUMNS.IMP"),dataField:"imp",sortOrder:"desc",alignment:"center",format:"fixedPoint"},{caption:d("MAIN.CAMPAIGN.COLUMNS.CLICKS"),dataField:"clicks",alignment:"center",format:"fixedPoint"},{caption:d("MAIN.CAMPAIGN.COLUMNS.CPC")+" ,$",dataField:"cpc",alignment:"center",format:"fixedPoint"},{caption:d("MAIN.CAMPAIGN.COLUMNS.CPM")+" ,$",dataField:"cpm",alignment:"center",format:"fixedPoint"},{caption:d("MAIN.CAMPAIGN.COLUMNS.CVR")+" ,%",dataField:"cvr",alignment:"center"},{caption:d("MAIN.CAMPAIGN.COLUMNS.CTR")+" ,%",dataField:"ctr",alignment:"center"},{caption:d("MAIN.CAMPAIGN.COLUMNS.IMPS_VIEWED"),dataField:"imps_viewed",alignment:"center",width:90,format:"fixedPoint"},{caption:d("MAIN.CAMPAIGN.COLUMNS.VIEW_MEASURED_IMPS"),dataField:"view_measured_imps",alignment:"center",width:100,format:"fixedPoint"},{caption:d("MAIN.CAMPAIGN.COLUMNS.VIEW_MEASUREMENT_RATE")+" ,%",dataField:"view_measurement_rate",alignment:"center",width:120},{caption:d("MAIN.CAMPAIGN.COLUMNS.VIEW_RATE")+" ,%",dataField:"view_rate",alignment:"center",width:80},{width:200,dataField:d("MAIN.CAMPAIGN.COLUMNS.STATS"),cellTemplate:function(a,t){if(t.data.chart){var i={onInitialized:function(e){r.chartOptionsFuncgrid[t.rowIndex]=e.component},dataSource:t.data.chart,size:{height:80,width:185},commonSeriesSettings:{argumentField:"day",type:"line",point:{size:2,hoverStyle:{border:{visible:!0,width:1},size:4}}},commonAxisSettings:{label:{visible:!1},grid:{visible:!1}},valueAxis:[{name:"imp"},{name:"cvr"},{name:"cpc"},{name:"clicks"},{name:"spend"},{name:"conv"},{name:"ctr"}],argumentAxis:{valueMarginsEnabled:!1,discreteAxisDivisionMode:"crossLabels",grid:{visible:!1},label:{visible:!1},minorGrid:{visible:!1},minorTick:{visible:!1},tick:{visible:!1}},series:r.chartSeries,legend:{visible:!1},tooltip:{enabled:!0,customizeTooltip:function(e){return"media"==e.seriesName||"CPC"==e.seriesName?{text:"$"+e.valueText+" "+e.seriesName}:"CTR"==e.seriesName||"CVR"==e.seriesName?{text:e.valueText+"% "+e.seriesName}:{text:e.valueText+" "+e.seriesName}}}};a.addClass("img-container");var n=e.$('<div class="chartMulti" ></div>');n.dxChart(i),n.appendTo(a)}else a.addClass("img-container"),e.$('<div id="chartMulti" ></div>').appendTo(a)}}],onSelectionChanged:function(e){r.selectedItems=e.selectedRowsData,r.disabled=!r.selectedItems.length}},r.charIsUpdating=!1,r.types=["line","stackedLine","fullStackedLine"],r.chartOptions={onDone:function(){var e=$("#chart").dxChart("instance");if(!r.charIsUpdating){var a=[],t="left";r.chartOptions.valueAxis.forEach(function(n,s){var o=i.checkChart[n.name];a.push({name:n.name,position:t,label:{alignment:"center",customizeText:function(){r.charIsUpdating=!0;var a=e._valueAxes[s]._majorTicks,t=null;if(Array.isArray(a)&&t<a[a.length-1].value&&(t=a[a.length-1].value),this.value==t)switch(n.name){case"imp":return'<span style="color:black; font-weight: bolder; text-decoration:underline;">'+d("MAIN.CHECKBOX.IMPRESSIONS")+"</span><br>"+this.value;case"cvr":return'<span style="color:black; font-weight: bolder; text-decoration:underline;">'+d("MAIN.CHECKBOX.CVR")+"</span><br>"+this.value;case"cpc":return'<span style="color:black; font-weight: bolder; text-decoration:underline;">'+d("MAIN.CHECKBOX.CPC")+"</span><br>"+this.value;case"clicks":return'<span style="color:black; font-weight: bolder; text-decoration:underline;">'+d("MAIN.CHECKBOX.CLICKS")+"</span><br>"+this.value;case"spend":return'<span style="color:black; font-weight: bolder; text-decoration:underline;">'+d("MAIN.CHECKBOX.MEDIA_SPENT")+"</span><br>"+this.value;case"conv":return'<span style="color:black; font-weight: bolder; text-decoration:underline;">'+d("MAIN.CHECKBOX.CONVERSIONS")+"</span><br>"+this.value;case"ctr":return'<span style="color:black; font-weight: bolder; text-decoration:underline;">'+d("MAIN.CHECKBOX.CTR")+"</span><br>"+this.value;default:return'<span style="color:black; font-weight: bolder; text-decoration:underline;">'+n.name+"</span><br>"+this.value}return this.value}}}),o&&(t="left"==t?"right":"left")}),e.option("valueAxis",a)}},onInitialized:function(e){r.chartOptionsFunc=e.component},series:r.chartSeries,bindingOptions:{dataSource:"main.chartStore"},commonSeriesSettings:{argumentField:"day",type:"Line",point:{size:6,hoverStyle:{border:{visible:!0,width:2},size:5}}},crosshair:{enabled:!0,color:"deepskyblue",label:{visible:!0}},commonAxisSettings:{valueMarginsEnabled:!0},margin:{bottom:20},argumentAxis:{discreteAxisDivisionMode:"crossLabels",grid:{visible:!0}},valueAxis:[{name:"imp",position:"left"},{name:"cvr",position:"left"},{name:"cpc",position:"left"},{name:"clicks",position:"left"},{name:"spend",position:"left"},{name:"conv",position:"left"},{name:"ctr",position:"left"}],legend:{verticalAlignment:"bottom",horizontalAlignment:"center",itemTextPosition:"bottom"},tooltip:{enabled:!0,customizeTooltip:function(e){return"media"==e.seriesName||"CPC"==e.seriesName?{text:"$"+e.valueText}:"CTR"==e.seriesName?{text:e.valueText+"%"}:{text:e.valueText}}}},r.updateCharts=function(a,t,n){var s={};i.checkChart[t]=n;var o=0;if(n)for(r.chartOptionsFunc.getSeriesByName(a).show(),s=e.$(".chartMulti"),o=0;o<s.length;o++)e.$(s[o]).dxChart("instance").getSeriesByName(a).show();else for(r.chartOptionsFunc.getSeriesByName(a).hide(),s=e.$(".chartMulti"),o=0;o<s.length;o++)e.$(s[o]).dxChart("instance").getSeriesByName(a).hide()},r.onlyTwo=function(e){var a=0,t=[],i=[];for(a=0;a<r.Init.length;a++)1==r.Init[a]._options.value?t.push(r.Init[a]):i.push(r.Init[a]);if(1==e){if(2==t.length&&i.length>4)for(a=0;a<i.length;a++)i[a].option("disabled",!0)}else if(t.length<=2)for(a=0;a<i.length;a++)i[a].option("disabled",!1)},r.impressions={text:d("MAIN.CHECKBOX.IMPRESSIONS"),value:i.checkChart.imp,onInitialized:function(e){r.Init.push(e.component)},onValueChanged:function(e){r.updateCharts("Impressions","imp",e.value),r.onlyTwo(e.value),r.charIsUpdating=!1,r.chartOptions.onDone(),o()}},r.CVR={text:d("MAIN.CHECKBOX.CVR"),value:i.checkChart.cvr,onInitialized:function(e){r.Init.push(e.component)},onValueChanged:function(e){r.updateCharts("CVR","cvr",e.value),r.onlyTwo(e.value),r.charIsUpdating=!1,r.chartOptions.onDone(),o()}},r.CPC={text:d("MAIN.CHECKBOX.CPC"),value:i.checkChart.cpc,onInitialized:function(e){r.Init.push(e.component)},onValueChanged:function(e){r.updateCharts("CPC","cpc",e.value),r.onlyTwo(e.value),r.charIsUpdating=!1,r.chartOptions.onDone(),o()}},r.clicks={text:d("MAIN.CHECKBOX.CLICKS"),value:i.checkChart.clicks,onInitialized:function(e){r.Init.push(e.component)},onValueChanged:function(e){r.updateCharts("clicks","clicks",e.value),r.onlyTwo(e.value),r.charIsUpdating=!1,r.chartOptions.onDone(),o()}},r.media={text:d("MAIN.CHECKBOX.MEDIA_SPENT"),value:i.checkChart.spend,onInitialized:function(e){r.Init.push(e.component)},onValueChanged:function(e){r.updateCharts("media","spend",e.value),r.onlyTwo(e.value),r.charIsUpdating=!1,r.chartOptions.onDone(),o()}},r.conversions={text:d("MAIN.CHECKBOX.CONVERSIONS"),value:i.checkChart.conv,onInitialized:function(e){r.Init.push(e.component)},onValueChanged:function(e){r.updateCharts("conversions","conv",e.value),r.onlyTwo(e.value),r.charIsUpdating=!1,r.chartOptions.onDone(),o()}},r.CTR={text:d("MAIN.CHECKBOX.CTR"),value:i.checkChart.ctr,onInitialized:function(e){r.Init.push(e.component)},onValueChanged:function(e){r.updateCharts("CTR","ctr",e.value),r.onlyTwo(e.value),r.charIsUpdating=!1,r.chartOptions.onDone(),o()}},t(function(){var e=0,a=[],t=[];for(e=0;e<r.Init.length;e++)1==r.Init[e]._options.value?a.push(r.Init[e]):t.push(r.Init[e]);if(a.length>=2&&t.length>4)for(e=0;e<t.length;e++)t[e].option("disabled",!0)});var c={};r.Main.statsMap(r.advertiser.id,r.dataStart,r.dataEnd).then(function(a){c=a,e.$("#visualMap").dxVectorMap(r.vectorMapOptions)}),r.vectorMapOptions={size:{height:320},layers:[{name:"areas",dataSource:e.DevExpress.viz.map.sources.world,palette:"blue",colorGroups:[0,100,1e3,1e4,1e5,1e7],colorGroupingField:"clicks",label:{enabled:!0,dataField:"name"},customize:function(e){e.forEach(function(e){var a=e.attribute("name"),t=c[a];t&&e.attribute("clicks",t)})}}],tooltip:{enabled:!0,customizeTooltip:function(e){return e.attribute("clicks")?{text:e.attribute("name")+": "+e.attribute("clicks")}:{text:e.attribute("name")}}},legends:[{source:{layer:"areas",grouping:"color"},horizontalAlignment:"left",verticalAlignment:"bottom",customizeText:function(e){return e.start+" to "+e.end+" clicks"}}],bounds:[-180,85,180,-75]}}e.$inject=["$window","$state","$timeout","$localStorage","$translate","Main"],angular.module("pjtLayout").controller("MainController",e)}(),function(){"use strict";angular.module("pjtLayout").constant("RussianTranslations",{COMMON:{"GO-TO-ADMIN-PANEL":"Панель администратора",LOGOUT:"Выйти","TO-MAIN-PAGE":"Главная"},AUTH:{GO_BUTTON:"Дальше","MAIL-REQUIRED":"Введите ваш email","MAIL-VALID":"Некорректный адрес электронной почты","PASSWORD-REQUIRED":"Введите ваш пароль","MAIL-PLACEHOLDER":"Введите адрес электронной почты","MAIL-PASSWORD":"Введите ваш пароль","MAIL-SUBMIT":"Вход"},ADMIN:{ANU:{"ADD-NEW-USER":"Добавить нового пользователя",EMAIL:"Электронная почта",PASSWORD:"Пароль","CONFIRM-PASSWORD":"Подтвердите пароль","USER-NAME":"Имя пользователя","FIRST-NAME":"Имя","LAST-NAME":"Фамилия","MAIL-REQUIRED":"Введите ваш email","MAIL-VALID":"Некорректный адрес электронной почты","PASSWORD-REQUIRED":"Введите ваш пароль","CONFIRM-PASSWORD-REQUIRED":"Введите подтверждение пароля","CONFIRM-PASSWORD-INCORRECT":"Неверный пароль","USER-NAME-REQUIRED":"Введите имя пользователя","FIRST-NAME-REQUIRED":"Введите имя","LAST-NAME-REQUIRED":"Введите фамилию","SELECT-PERMISSION":"Выберите тип доступа","SELECT-NEXUS-USER":"Выберите пользователя с AppNexus",SUBMIT:"Создать"},"LIST-USER":{TITLE:"Список пользователей",EMAIL:"Электронная почта",PASSWORD:"Пароль","CONFIRM-PASSWORD":"Подтвердите пароль","USER-NAME":"Имя пользователя","FIRST-NAME":"Имя","LAST-NAME":"Фамилия","APNEXUS-ID":"Id пользователя AppNexus","APNEXUS-NAME":"Имя пользователя AppNexus",PERMISSION:"Разрешение"}},INDEX:{ADVERTISER_TITLE:"Статистика для",LEFT_NAV:{HOME:"Главная",CAMPAIGN:"Кампания",BILLING:"Биллинг",OPTIMIZER:"Оптимизатор"}},MAIN:{HOME:"Главная",DATE_PICKER:{YESTERDAY:"Вчера",LAST_3_DAYS:"Последние 3 дня",LAST_7_DAYS:"Последние 7 дней",LAST_14_DAYS:"Последние 14 дней",LAST_21_DAYS:"Последние 21 дней",CURRENT_MONTH:"Текущий месяц",LAST_MONTH:"Прошлый месяц",LAST_90_DAYS:"Последние 90 дней",ALL_TIME:"Все время"},TOTALS:{COLUMNS:{TOTALS:"ИТОГИ",SPENT:"Потрачено",CONV:"Конв",IMP:"Показы",CLICKS:"Клики",CPC:"CPC",CPM:"CPM",CVR:"CVR",CTR:"CTR"}},CAMPAIGN:{COLUMNS:{CAMPAIGN:"Кампания",PLACEMENT:"Размещение",NETWORK:"Сеть_Издатель",SPENT:"Потрачено",CONV:"Конв",IMP:"Показы",CPA:"CPA",CLICKS:"Клики",CPC:"CPC",CPM:"CPM",CVR:"CVR",CTR:"CTR",IMPS_VIEWED:"Видимые показы",VIEW_MEASURED_IMPS:"Измерено видимость показов",VIEW_MEASUREMENT_RATE:"Измереная видимост",VIEW_RATE:"Видимость",STATS:"Стат"}},CHECKBOX:{IMPRESSIONS:"Показы",CVR:"CVR",CPC:"CPC",CLICKS:"Клики",MEDIA_SPENT:"$ Затраты",CONVERSIONS:"Конверсии",CTR:"CTR"}},CAMP:{NAME:"Кампания","GO-OPTIMISER":"Перейти к оптимизатору",CHECKBOX:{IMPRESSIONS:"Показы",CPA:"CPA",CPC:"CPC",CLICKS:"Клики",MEDIA_SPENT:"$ Затраты",CONVERSIONS:"Конверсии",CTR:"CTR"},CAMPAIGN:{COLUMNS:{CAMPAIGN:"Кампания",PLACEMENT:"Размещение",NETWORK:"Сеть_Издатель",SPENT:"Потрачено",CONV:"Конв",COST:"Стоимость",IMP:"Показы",CPA:"CPA",CLICKS:"Клики",CPC:"CPC",CPM:"CPM",CVR:"CVR",CTR:"CTR",IMPS_VIEWED:"Видимые показы",VIEW_MEASURED_IMPS:"Измерено видимость показов",VIEW_MEASUREMENT_RATE:"Измереная видимост",VIEW_RATE:"Видимость",STATS:"Стат"}}},CO:{NAME:"Оптимизатор кампании",ORIGINAL:"Оригинал",OPTIMISED:"Оптимизированный (белый список)",RULES:"Правила для всех доменов:",SPENDS:"если приложение/домен расходует больше чем",CONVERSIONS1:"и conversions равны 0, то",APP:"если приложение/домен имеет более чем",CONVERSIONS2:"imp. и conversions равны 0, то",UNDISCLOSED:'если приложение/домен помечен как "нераскрытый" ',"DOMAIN-RULES":"Домен-специфические правила:","CURRENT-LIST":"Текущий список мест размещения ","GO-OPTIMISER":"Перейти к оптимизатору"}})}(),function(){"use strict";angular.module("pjtLayout").constant("EnglishTranslations",{COMMON:{"GO-TO-ADMIN-PANEL":"Admin panel",LOGOUT:"Log out","TO-MAIN-PAGE":"Main page"},AUTH:{GO_BUTTON:"GO","MAIL-REQUIRED":"Your email is required","MAIL-VALID":"Your email is not valid.","PASSWORD-REQUIRED":"Your password is required.","MAIL-PLACEHOLDER":"Enter your email","MAIL-PASSWORD":"Enter your password","MAIL-SUBMIT":"Submit"},ADMIN:{ANU:{"ADD-NEW-USER":"Add new user",EMAIL:"Email",PASSWORD:"Password","CONFIRM-PASSWORD":"Confirm password","USER-NAME":"User name","FIRST-NAME":"First name","LAST-NAME":"Last name","MAIL-REQUIRED":"Your email is required","MAIL-VALID":"Your email is not valid","PASSWORD-REQUIRED":"Your password is required","CONFIRM-PASSWORD-REQUIRED":"Password confirmation is required","CONFIRM-PASSWORD-INCORRECT":"Incorrect password","USER-NAME-REQUIRED":"User name is required","FIRST-NAME-REQUIRED":"First name is required","LAST-NAME-REQUIRED":"Last name is required","SELECT-PERMISSION":"Select the type of permission","SELECT-NEXUS-USER":"Select the appnexus user",SUBMIT:"Create"},"LIST-USER":{TITLE:"List of users",EMAIL:"Email",PASSWORD:"Password","CONFIRM-PASSWORD":"Confirm password","USER-NAME":"User name","FIRST-NAME":"First name","LAST-NAME":"Last name","APNEXUS-ID":"AppNexus user id","APNEXUS-NAME":"AppNexus user name",PERMISSION:"Permission"}},INDEX:{ADVERTISER_TITLE:"Stats for",LEFT_NAV:{HOME:"Home",CAMPAIGN:"Campaign",BILLING:"Billing",OPTIMIZER:"Optimizer"}},MAIN:{HOME:"Home",DATE_PICKER:{YESTERDAY:"Yesterday",LAST_3_DAYS:"Last 3 days",LAST_7_DAYS:"Last 7 days",LAST_14_DAYS:"Last 14 days",LAST_21_DAYS:"Last 21 days",CURRENT_MONTH:"Current month",LAST_MONTH:"Last month",LAST_90_DAYS:"Last 90 days",ALL_TIME:"All times"},TOTALS:{COLUMNS:{TOTALS:"TOTALS",SPENT:"Spent",CONV:"Conv",IMP:"Imp",CLICKS:"Clicks",CPC:"CPC",CPM:"CPM",CVR:"CVR",CTR:"CTR"}},CAMPAIGN:{COLUMNS:{CAMPAIGN:"Campaign",PLACEMENT:"Placement",NETWORK:"Network + Publisher",SPENT:"Spent",CONV:"Conv",IMP:"Imp",CPA:"CPA",CLICKS:"Clicks",CPC:"CPC",CPM:"CPM",CVR:"CVR",CTR:"CTR",IMPS_VIEWED:"Visible imp",VIEW_MEASURED_IMPS:"Measured imp",VIEW_MEASUREMENT_RATE:"Viewed measurement rate",VIEW_RATE:"Viewed rate",STATS:"Stats"}},CHECKBOX:{IMPRESSIONS:"Impressions",CVR:"CVR",CPC:"CPC",CLICKS:"Clicks",MEDIA_SPENT:"$ Cost",CONVERSIONS:"Conversions",CTR:"CTR"}},CAMP:{NAME:"Campaign","GO-OPTIMISER":"Go to the Optimiser",CHECKBOX:{IMPRESSIONS:"Impressions",CPA:"CPA",CPC:"CPC",CLICKS:"Clicks",MEDIA_SPENT:"$ Cost",CONVERSIONS:"Conversions",CTR:"CTR"},CAMPAIGN:{COLUMNS:{CAMPAIGN:"Campaign",PLACEMENT:"Placement",NETWORK:"Network + Publisher",SPENT:"Spent",CONV:"Conv",COST:"Cost",IMP:"Imp",CPA:"CPA",CLICKS:"Clicks",CPC:"CPC",CPM:"CPM",CVR:"CVR",CTR:"CTR",IMPS_VIEWED:"Visible imp",VIEW_MEASURED_IMPS:"Measured imp",VIEW_MEASUREMENT_RATE:"Viewed measurement rate",VIEW_RATE:"Viewed rate",STATS:"Stats"}}},CO:{NAME:"Campaign optimiser",ORIGINAL:"Original",OPTIMISED:"Optimised (Whitelist)",RULES:"Rules for All Domains:",SPENDS:"if an app/domain spends more than",CONVERSIONS1:"and conversions are 0 then",APP:"if an app/domain has more than",CONVERSIONS2:"imp. and conversions are 0 then",UNDISCLOSED:'if an app/domain is marked as "Undisclosed"',"DOMAIN-RULES":"Domain-specific rules:","CURRENT-LIST":"Current list of placements - Live now","CAMPAIGN-HOME":"Campaign Home","OPTIMIZER-VIEW":"Optimizer View","SUSPEND-LIST":"Suspend list"}})}(),function(){"use strict";function e(e,a,t,i){function n(){a.go("admin")}var s=this;s.advertiser={},s.a=123,!t.get("token")||"adminfull"!=t.get("permission")&&"adminread"!=t.get("permission")||(s.isEven=!0),!t.get("token")||"userfull"!=t.get("permission")&&"userread"!=t.get("permission")||(s.isEven=!1),null==e.advertiser?a.go("auth"):s.advertiser.name=e.advertiser.name,s.checked=function(e){var a=angular.element(i.document.querySelector("#wrapper"))[0];e?a.classList.add("hidden-menu"):a.classList.remove("hidden-menu")},s.goToAdminPanel=n}e.$inject=["$localStorage","$state","$cookies","$window"],angular.module("pjtLayout").controller("HomeController",e)}(),function(){"use strict";function e(e,a){function t(t,i,n,s,o,r,d){return e({method:"GET",url:"/api/v1/campaigns/"+encodeURI(t)+"/domains",headers:{Authorization:"Token "+a.get("token")},params:{id:t,from_date:i,to_date:n,skip:s,take:o,order:r,filter:d}}).then(function(e){return e.data})["catch"](function(e){return e})}var i=this;i.campaignDomains=t}e.$inject=["$http","$cookies"],angular.module("pjtLayout").service("CampaignOptimiser",e)}(),function(){"use strict";function e(e,a,t,i,n,s){var o=this;o.CampaignOptimiser=s,o.campName=n.campaign,o.campId=n.id;var r=i.instant;o.navCamp={text:r("CO.CAMPAIGN-HOME"),onClick:function(){a.go("home.campaign.details",{id:o.campId})}},o.navView={text:r("CO.OPTIMIZER-VIEW"),onClick:function(){a.go("home.campaignoptimiser",{id:o.campId})}},o.navList={text:r("CO.SUSPEND-LIST"),onClick:function(){a.go("CO.campaignoptimiser",{id:o.campId})}},null==t.SelectedTime?(t.SelectedTime=0,t.dataStart=e.moment({hour:"00"}).subtract(1,"day").unix(),t.dataEnd=e.moment({hour:"00"}).subtract(1,"day").endOf("day").unix(),o.dataStart=e.moment({hour:"00"}).subtract(1,"day").unix(),o.dataEnd=e.moment({hour:"00"}).subtract(1,"day").endOf("day").unix()):null==t.dataStart||null==t.dataEnd?(t.SelectedTime=0,t.dataStart=e.moment({hour:"00"}).subtract(1,"day").unix(),t.dataEnd=e.moment({hour:"00"}).subtract(1,"day").endOf("day").unix(),o.dataStart=e.moment({hour:"00"}).subtract(1,"day").unix(),o.dataEnd=e.moment({hour:"00"}).subtract(1,"day").endOf("day").unix()):(o.dataStart=t.dataStart,o.dataEnd=t.dataEnd);var d=[{ID:0,Name:r("MAIN.DATE_PICKER.YESTERDAY"),dataStart:e.moment({hour:"00"}).subtract(1,"day").unix(),dataEnd:e.moment({hour:"00"}).subtract(1,"day").endOf("day").unix()},{ID:1,Name:r("MAIN.DATE_PICKER.LAST_3_DAYS"),dataStart:e.moment({hour:"00"}).subtract(3,"day").unix(),dataEnd:e.moment({hour:"00"}).unix()},{ID:2,Name:r("MAIN.DATE_PICKER.LAST_7_DAYS"),dataStart:e.moment({hour:"00"}).subtract(7,"day").unix(),dataEnd:e.moment({hour:"00"}).unix()},{ID:3,Name:r("MAIN.DATE_PICKER.LAST_14_DAYS"),dataStart:e.moment({hour:"00"}).subtract(14,"day").unix(),dataEnd:e.moment({hour:"00"}).unix()},{ID:4,Name:r("MAIN.DATE_PICKER.LAST_21_DAYS"),dataStart:e.moment({hour:"00"}).subtract(21,"day").unix(),dataEnd:e.moment({hour:"00"}).unix()},{ID:5,Name:r("MAIN.DATE_PICKER.CURRENT_MONTH"),dataStart:e.moment().startOf("month").unix(),dataEnd:e.moment().unix()},{ID:6,Name:r("MAIN.DATE_PICKER.LAST_MONTH"),dataStart:e.moment().subtract(1,"month").startOf("month").unix(),dataEnd:e.moment().subtract(1,"month").endOf("month").unix()},{ID:7,Name:r("MAIN.DATE_PICKER.LAST_90_DAYS"),dataStart:e.moment({hour:"00"}).subtract(90,"day").unix(),dataEnd:e.moment().unix()},{ID:8,Name:r("MAIN.DATE_PICKER.ALL_TIME"),dataStart:0,dataEnd:e.moment().unix()}];o.datePiker={items:d,displayExpr:"Name",valueExpr:"ID",value:d[t.SelectedTime].ID,onValueChanged:function(e){t.SelectedTime=e.value,t.dataStart=d[e.value].dataStart,t.dataEnd=d[e.value].dataEnd,a.reload()}},o.selectCell={dataSource:[{name:"White List",state:"whiteList"},{name:"Black List",state:"blackList"},{name:"Suspended",state:"suspended"}],disabled:!0,placeholder:"Select a state",displayExpr:"name",valueExpr:"",onSelectionChanged:function(){var e=angular.element("#gridContainer2")[0].querySelectorAll('[aria-selected="true"]');if(e[0])for(var a=[],t=0;t<e.length;t++)a.push(e[t].firstChild.innerText)}},o.gridStore=new e.DevExpress.data.CustomStore({totalCount:function(){return 0},load:function(e){return o.CampaignOptimiser.campaignDomains(o.campId,o.dataEnd,o.dataStart,e.skip,e.take,e.sort,e.order,e.filter).then(function(e){return e})}}),o.selectedItems=[],o.chartOptionsFuncgrid=[],null==t.boxPlotData&&(t.boxPlotData=o.boxPlotData),o.selectCell={dataSource:[{name:"White List",state:"whiteList"},{name:"Black List",state:"blackList"},{name:"Suspended",state:"suspended"}],disabled:!0,placeholder:"Select a state",displayExpr:"name",valueExpr:"",onSelectionChanged:function(){var a=e.$("#gridContainer2")[0].querySelectorAll('[aria-selected="true"]');if(a[0])for(var t=[],i=0;i<a.length;i++)t.push(a[i].firstChild.innerText)}},o.dataGridOptionsCampaign={onInitialized:function(e){o.dataGridOptionsMultipleFunc=e.component,o.dataGridOptionsMultipleFunc._controllers.columns._commandColumns[1].visibleIndex=9},onRowPrepared:function(e){if(o.objectData=e,"data"==o.objectData.rowType){var a=e.rowElement[0].childNodes[9],t=e.data.state;"true"==t.whiteList&&a.classList.add("active-white"),"true"==t.blackList&&a.classList.add("active-black"),"true"==t.suspended&&a.classList.add("active-suspended")}},showBorders:!0,alignment:"left",headerFilter:{visible:!0},editing:{allowUpdating:!0,mode:"batch"},bindingOptions:{dataSource:"CO.gridStore",allowColumnResizing:"true"},pager:{showPageSizeSelector:!0,allowedPageSizes:[10,30,50],visible:!0,showNavigationButtons:!0},howBorders:!0,showRowLines:!0,columns:[{caption:r("MAIN.CAMPAIGN.COLUMNS.PLACEMENT"),dataField:"placement",allowEditing:!1},{caption:r("MAIN.CAMPAIGN.COLUMNS.NETWORK"),dataField:"NetworkPublisher",allowEditing:!1},{caption:r("MAIN.CAMPAIGN.COLUMNS.CONV"),dataField:"conv",allowEditing:!1},{caption:r("MAIN.CAMPAIGN.COLUMNS.IMP"),dataField:"imp",allowEditing:!1},{caption:r("MAIN.CAMPAIGN.COLUMNS.CLICKS"),dataField:"clicks",allowEditing:!1},{caption:r("MAIN.CAMPAIGN.COLUMNS.CPC"),dataField:"cpc",allowEditing:!1},{caption:r("MAIN.CAMPAIGN.COLUMNS.CPM"),dataField:"cpm",allowEditing:!1},{caption:r("MAIN.CAMPAIGN.COLUMNS.CVR"),dataField:"cvr",allowEditing:!0},{caption:r("MAIN.CAMPAIGN.COLUMNS.CTR"),dataField:"ctr",allowEditing:!0},{caption:"State",width:300,columnIndex:16,headerCellTemplate:"headerCellTemplate",cellTemplate:function(a,t){e.$("<div />").dxButton({text:"white list",height:30,width:89,disabled:!0,onClick:function(e){var a=e.element[0].parentNode;a.classList.contains("active-white")?(a.classList.remove("active-white"),a.classList.add("unactive-white"),t.data.state.whiteList="false"):a.classList.contains("active-white")||(a.classList.remove("unactive-white"),a.classList.add("active-white"),t.data.state.whiteList="true",t.data.state.suspended="false",
t.data.state.blackList="false",a.classList.remove("active-black"),a.classList.remove("active-suspended"))}}).addClass("white-list").appendTo(a),e.$("<div />").dxButton({text:"black list",height:30,width:89,disabled:!0,onClick:function(e){var a=e.element[0].parentNode;a.classList.contains("active-black")?(a.classList.remove("active-black"),a.classList.add("unactive-black"),t.data.state.blackList="false"):a.classList.contains("active-black")||(a.classList.remove("unactive-black"),a.classList.add("active-black"),t.data.state.blackList="true",t.data.state.suspended="false",t.data.state.whiteList="false",a.classList.remove("active-white"),a.classList.remove("active-suspended"))}}).addClass("black-list").appendTo(a),e.$("<div />").dxButton({text:"suspended",height:30,width:95,disabled:!0,onClick:function(e){var a=e.element[0].parentNode;a.classList.contains("active-suspended")?(a.classList.remove("active-suspended"),a.classList.add("unactive-suspended"),t.data.state.suspended="false"):a.classList.contains("active-suspended")||(a.classList.remove("unactive-suspended"),a.classList.add("active-suspended"),t.data.state.suspended="true",t.data.state.whiteList="false",t.data.state.blackList="false",a.classList.remove("active-white"),a.classList.remove("active-black"))}}).addClass("suspended").appendTo(a)}}],selection:{mode:"multiple",showCheckBoxesMode:"always"},onSelectionChanged:function(e){o.selectedItems=e.selectedRowsData,o.disabled=!o.selectedItems.length}},o.selectCell3={dataSource:[{name:"White List",state:"whiteList"},{name:"Black List",state:"blackList"},{name:"Suspended",state:"suspended"}],disabled:!0,placeholder:"Select a state",displayExpr:"name",valueExpr:"",onSelectionChanged:function(){var a=e.$("#gridContainer3")[0].querySelectorAll('[aria-selected="true"]');if(a[0])for(var t=[],i=0;i<a.length;i++)t.push(a[i].firstChild.innerText)}},o.gridStore3=new e.DevExpress.data.CustomStore({totalCount:function(){return 0},load:function(e){return o.CampaignOptimiser.campaignDomains(o.campId,o.dataEnd,o.dataStart,e.skip,e.take,e.sort,e.order,e.filter).then(function(e){return e})}}),o.selectedItems=[],o.chartOptionsFuncgrid=[],null==t.boxPlotData&&(t.boxPlotData=o.boxPlotData),o.selectCell={dataSource:[{name:"White List",state:"whiteList"},{name:"Black List",state:"blackList"},{name:"Suspended",state:"suspended"}],disabled:!0,placeholder:"Select a state",displayExpr:"name",valueExpr:"",onSelectionChanged:function(){var a=e.$("#gridContainer3")[0].querySelectorAll('[aria-selected="true"]');if(a[0])for(var t=[],i=0;i<a.length;i++)t.push(a[i].firstChild.innerText)}},o.dataGridOptionsCampaign3={onInitialized:function(e){o.dataGridOptionsMultipleFunc3=e.component,o.dataGridOptionsMultipleFunc3._controllers.columns._commandColumns[1].visibleIndex=9},onRowPrepared:function(e){if(o.objectData=e,"data"==o.objectData.rowType){var a=e.rowElement[0].childNodes[9],t=e.data.state;"true"==t.whiteList&&a.classList.add("active-white"),"true"==t.blackList&&a.classList.add("active-black"),"true"==t.suspended&&a.classList.add("active-suspended")}},showBorders:!0,alignment:"left",headerFilter:{visible:!0},bindingOptions:{dataSource:"CO.gridStore3",allowColumnResizing:"true"},pager:{showPageSizeSelector:!0,allowedPageSizes:[10,30,50],visible:!0,showNavigationButtons:!0},howBorders:!0,showRowLines:!0,columns:[{caption:r("MAIN.CAMPAIGN.COLUMNS.PLACEMENT"),dataField:"placement"},{caption:r("MAIN.CAMPAIGN.COLUMNS.NETWORK"),dataField:"NetworkPublisher"},{caption:r("MAIN.CAMPAIGN.COLUMNS.CONV"),dataField:"conv"},{caption:r("MAIN.CAMPAIGN.COLUMNS.IMP"),dataField:"imp"},{caption:r("MAIN.CAMPAIGN.COLUMNS.CLICKS"),dataField:"clicks"},{caption:r("MAIN.CAMPAIGN.COLUMNS.CPC"),dataField:"cpc"},{caption:r("MAIN.CAMPAIGN.COLUMNS.CPM"),dataField:"cpm"},{caption:r("MAIN.CAMPAIGN.COLUMNS.CVR"),dataField:"cvr"},{caption:r("MAIN.CAMPAIGN.COLUMNS.CTR"),dataField:"ctr"},{caption:"State",width:207,columnIndex:16,headerCellTemplate:"headerCellTemplate",cellTemplate:function(a,t){e.$("<div />").dxButton({text:"white list",height:30,width:89,disabled:!0,onClick:function(e){var a=e.element[0].parentNode;a.classList.contains("active-white")?(a.classList.remove("active-white"),a.classList.add("unactive-white"),t.data.state.whiteList="false"):a.classList.contains("active-white")||(a.classList.remove("unactive-white"),a.classList.add("active-white"),t.data.state.whiteList="true",t.data.state.suspended="false",t.data.state.blackList="false",a.classList.remove("active-black"),a.classList.remove("active-suspended"))}}).addClass("white-list").appendTo(a),e.$("<div />").dxButton({text:"suspended",height:30,width:95,disabled:!0,onClick:function(e){var a=e.element[0].parentNode;a.classList.contains("active-suspended")?(a.classList.remove("active-suspended"),a.classList.add("unactive-suspended"),t.data.state.suspended="false"):a.classList.contains("active-suspended")||(a.classList.remove("unactive-suspended"),a.classList.add("active-suspended"),t.data.state.suspended="true",t.data.state.whiteList="false",t.data.state.blackList="false",a.classList.remove("active-white"),a.classList.remove("active-black"))}}).addClass("suspended").appendTo(a)}}],selection:{mode:"multiple",showCheckBoxesMode:"always"},onSelectionChanged:function(e){o.selectedItems=e.selectedRowsData,o.disabled=!o.selectedItems.length}},o.selectCell4={dataSource:[{name:"White List",state:"whiteList"},{name:"Black List",state:"blackList"},{name:"Suspended",state:"suspended"}],disabled:!0,placeholder:"Select a state",displayExpr:"name",valueExpr:"",onSelectionChanged:function(){var a=e.$("#gridContainer4")[0].querySelectorAll('[aria-selected="true"]');if(a[0])for(var t=[],i=0;i<a.length;i++)t.push(a[i].firstChild.innerText)}},o.gridStore4=new e.DevExpress.data.CustomStore({totalCount:function(){return 0},load:function(e){return o.CampaignOptimiser.campaignDomains(o.campId,o.dataEnd,o.dataStart,e.skip,e.take,e.sort,e.order,e.filter).then(function(e){return e})}}),o.selectedItems=[],o.chartOptionsFuncgrid=[],null==t.boxPlotData&&(t.boxPlotData=o.boxPlotData),o.selectCell={dataSource:[{name:"White List",state:"whiteList"},{name:"Black List",state:"blackList"},{name:"Suspended",state:"suspended"}],disabled:!0,placeholder:"Select a state",displayExpr:"name",valueExpr:"",onSelectionChanged:function(){var a=e.$("#gridContainer4")[0].querySelectorAll('[aria-selected="true"]');if(a[0])for(var t=[],i=0;i<a.length;i++)t.push(a[i].firstChild.innerText)}},o.dataGridOptionsCampaign4={onInitialized:function(e){o.dataGridOptionsMultipleFunc4=e.component,o.dataGridOptionsMultipleFunc4._controllers.columns._commandColumns[1].visibleIndex=9},onRowPrepared:function(e){if(o.objectData=e,"data"==o.objectData.rowType){var a=e.rowElement[0].childNodes[9],t=e.data.state;"true"==t.whiteList&&a.classList.add("active-white"),"true"==t.blackList&&a.classList.add("active-black"),"true"==t.suspended&&a.classList.add("active-suspended")}},showBorders:!0,alignment:"left",headerFilter:{visible:!0},bindingOptions:{dataSource:"CO.gridStore3",allowColumnResizing:"true"},pager:{showPageSizeSelector:!0,allowedPageSizes:[10,30,50],visible:!0,showNavigationButtons:!0},howBorders:!0,showRowLines:!0,columns:[{caption:r("MAIN.CAMPAIGN.COLUMNS.PLACEMENT"),dataField:"placement"},{caption:r("MAIN.CAMPAIGN.COLUMNS.NETWORK"),dataField:"NetworkPublisher"},{caption:r("MAIN.CAMPAIGN.COLUMNS.CONV"),dataField:"conv"},{caption:r("MAIN.CAMPAIGN.COLUMNS.IMP"),dataField:"imp"},{caption:r("MAIN.CAMPAIGN.COLUMNS.CLICKS"),dataField:"clicks"},{caption:r("MAIN.CAMPAIGN.COLUMNS.CPC"),dataField:"cpc"},{caption:r("MAIN.CAMPAIGN.COLUMNS.CPM"),dataField:"cpm"},{caption:r("MAIN.CAMPAIGN.COLUMNS.CVR"),dataField:"cvr"},{caption:r("MAIN.CAMPAIGN.COLUMNS.CTR"),dataField:"ctr"},{caption:"State",width:207,columnIndex:16,headerCellTemplate:"headerCellTemplate",cellTemplate:function(a,t){e.$("<div />").dxButton({text:"black list",height:30,width:89,disabled:!0,onClick:function(e){var a=e.element[0].parentNode;a.classList.contains("active-black")?(a.classList.remove("active-black"),a.classList.add("unactive-black"),t.data.state.blackList="false"):a.classList.contains("active-black")||(a.classList.remove("unactive-black"),a.classList.add("active-black"),t.data.state.blackList="true",t.data.state.suspended="false",t.data.state.whiteList="false",a.classList.remove("active-white"),a.classList.remove("active-suspended"))}}).addClass("black-list").appendTo(a),e.$("<div />").dxButton({text:"suspended",height:30,width:95,disabled:!0,onClick:function(e){var a=e.element[0].parentNode;a.classList.contains("active-suspended")?(a.classList.remove("active-suspended"),a.classList.add("unactive-suspended"),t.data.state.suspended="false"):a.classList.contains("active-suspended")||(a.classList.remove("unactive-suspended"),a.classList.add("active-suspended"),t.data.state.suspended="true",t.data.state.whiteList="false",t.data.state.blackList="false",a.classList.remove("active-white"),a.classList.remove("active-black"))}}).addClass("suspended").appendTo(a)}}],selection:{mode:"multiple",showCheckBoxesMode:"always"},onSelectionChanged:function(e){o.selectedItems=e.selectedRowsData,o.disabled=!o.selectedItems.length}}}e.$inject=["$window","$state","$localStorage","$translate","Campaign","CampaignOptimiser"],angular.module("pjtLayout").controller("CampaignOptimiserController",e)}(),function(){"use strict";function e(e,a,t){function i(a){return e({method:"GET",headers:{Authorization:"Token "+t.get("token")},url:"/api/v1/campaigns/"+encodeURI(a)}).then(function(e){return e.data})["catch"](function(e){return e})}function n(i,n,s,o){return e({method:"GET",url:"/api/v1/campaigns/"+encodeURI(i)+"/graphinfo",headers:{Authorization:"Token "+t.get("token")},params:{from_date:n,to_date:s,by:o}}).then(function(e){for(var t in e.data)e.data[t].ctr=+parseFloat(e.data[t].ctr).toFixed(4),e.data[t].conversions=+parseFloat(e.data[t].conversions).toFixed(4),e.data[t].impression=+parseFloat(e.data[t].impression).toFixed(4),e.data[t].cpa=+parseFloat(e.data[t].cpa).toFixed(4),e.data[t].cpc=+parseFloat(e.data[t].cpc).toFixed(4),e.data[t].clicks=+parseFloat(e.data[t].clicks).toFixed(4),e.data[t].mediaspent=+parseFloat(e.data[t].mediaspent).toFixed(4),e.data[t].day=a.moment(e.data[t].day).format("DD/MM");return e.data})["catch"](function(e){return e})}function s(i,n,s){return e({method:"GET",url:"/api/v1/campaigns/"+encodeURI(i)+"/cpareport",headers:{Authorization:"Token "+t.get("token")},params:{from_date:n,to_date:s}}).then(function(e){for(var t in e.data)e.data[t].avg=+parseFloat(e.data[t].avg).toFixed(4),e.data[t].ctr=+parseFloat(e.data[t].ctr).toFixed(4),e.data[t].close=+parseFloat(e.data[t].close).toFixed(4),e.data[t].high=+parseFloat(e.data[t].high).toFixed(4),e.data[t].low=+parseFloat(e.data[t].low).toFixed(4),e.data[t].open=+parseFloat(e.data[t].open).toFixed(4),e.data[t].day=a.moment(e.data[t].date).toDate();return e.data})["catch"](function(e){return e})}function o(a,i,n,s,o,d,l,c){return d?(l=d[0].desc===!0?"desc":"asc",d=d[0].selector):(d="placement",l="DESC"),null==o&&(o=10),null==s&&(s=0),e({method:"GET",url:"/api/v1/campaigns/"+encodeURI(a)+"/domains",headers:{Authorization:"Token "+t.get("token")},params:{from_date:i,to_date:n,skip:s,take:o,sort:d,order:l,filter:c}}).then(function(e){for(var a in e.data.data)e.data.data[a].cvr=+parseFloat(e.data.data[a].cvr).toFixed(4),e.data.data[a].ctr=+parseFloat(e.data.data[a].ctr).toFixed(4),e.data.data[a].cpc=+parseFloat(e.data.data[a].cpc).toFixed(4),e.data.data[a].cpm=+parseFloat(e.data.data[a].cpm).toFixed(4),e.data.data[a].imp=+parseFloat(e.data.data[a].imp).toFixed(4),e.data.data[a].cpa=+parseFloat(e.data.data[a].cpa).toFixed(4),e.data.data[a].clicks=+parseFloat(e.data.data[a].clicks).toFixed(4),e.data.data[a].conv=+parseFloat(e.data.data[a].conv).toFixed(4),e.data.data[a].cost=+parseFloat(e.data.data[a].cost).toFixed(2),e.data.data[a].imps_viewed=+parseFloat(e.data.data[a].imps_viewed).toFixed(4),e.data.data[a].view_measured_imps=+parseFloat(e.data.data[a].view_measured_imps).toFixed(4),e.data.data[a].view_measurement_rate=+parseFloat(e.data.data[a].view_measurement_rate).toFixed(1),e.data.data[a].view_rate=+parseFloat(e.data.data[a].view_rate).toFixed(1);return e.data}).then(function(e){return r.totalCount=e.totalCount||0,e.data})["catch"](function(e){return e})}var r=this;r.totalCount=0,r.cpaReport=s,r.nameCampaigns=i,r.graphinfo=n,r.campaignDomains=o}e.$inject=["$http","$window","$cookies"],angular.module("pjtLayout").service("CampMain",e)}(),function(){"use strict";function e(e,a,t,i,n,s,o){function r(){for(var e in t.checkCharCamp)t.checkCharCamp[e]?("impression"==e&&d.gridCharts.getSeriesByName("Impressions").show(),"cpa"==e&&d.gridCharts.getSeriesByName("CPA").show(),"cpc"==e&&d.gridCharts.getSeriesByName("CPC").show(),"clicks"==e&&d.gridCharts.getSeriesByName("Clicks").show(),"mediaspent"==e&&d.gridCharts.getSeriesByName("mediaspent").show(),"conversions"==e&&d.gridCharts.getSeriesByName("Conversions").show(),"ctr"==e&&d.gridCharts.getSeriesByName("CTR").show()):("impression"==e&&d.gridCharts.getSeriesByName("Impressions").hide(),"cpa"==e&&d.gridCharts.getSeriesByName("CPA").hide(),"cpc"==e&&d.gridCharts.getSeriesByName("CPC").hide(),"clicks"==e&&d.gridCharts.getSeriesByName("Clicks").hide(),"mediaspent"==e&&d.gridCharts.getSeriesByName("mediaspent").hide(),"conversions"==e&&d.gridCharts.getSeriesByName("Conversions").hide(),"ctr"==e&&d.gridCharts.getSeriesByName("CTR").hide())}var d=this;d.Camp=s,d.multipleTotalCount=0,d.checkChart=[],d.by="imp,cvr,cpc,clicks,spend,conv,ctr";var l=i.instant;d.campName=o.campaign,d.campId=o.id,d.Init=[],null==t.checkCharCamp&&(t.checkCharCamp={impression:!0,cpa:!1,cpc:!1,clicks:!1,mediaspent:!1,conversions:!1,ctr:!1}),d.optimiser={text:l("CAMP.GO-OPTIMISER"),onClick:function(){a.go("home.campaignoptimiser",{id:d.campId})}},d.seriesCamp=[{name:"Impressions",argumentField:"day",valueField:"impression",axis:"impression",visible:t.checkCharCamp.impression},{argumentField:"day",valueField:"cpa",name:"CPA",axis:"cpa",visible:t.checkCharCamp.cpa},{argumentField:"day",valueField:"cpc",name:"CPC",axis:"cpc",visible:t.checkCharCamp.cpc},{argumentField:"day",valueField:"clicks",name:"Clicks",axis:"clicks",visible:t.checkCharCamp.clicks},{argumentField:"day",valueField:"mediaspent",name:"mediaspent",axis:"mediaspent",visible:t.checkCharCamp.mediaspent},{argumentField:"day",valueField:"conversions",name:"Conversions",axis:"conversions",visible:t.checkCharCamp.conversions},{argumentField:"day",valueField:"ctr",name:"CTR",axis:"ctr",visible:t.checkCharCamp.ctr}],d.totals=[],d.chartStore=new e.DevExpress.data.CustomStore({totalCount:function(){return 0},load:function(){return d.Camp.graphinfo(d.campId,d.dataStart,d.dataEnd,d.by).then(function(e){return e})}}),d.boxPlotStore=new e.DevExpress.data.CustomStore({totalCount:function(){return 0},load:function(){return d.Camp.cpaReport(d.campId,d.dataStart,d.dataEnd).then(function(e){return e})}}),d.gridStore=new e.DevExpress.data.CustomStore({totalCount:function(){return d.Camp.totalCount},load:function(e){return e.searchOperation&&e.dataField&&(e.take=999999),d.Camp.campaignDomains(d.campId,d.dataStart,d.dataEnd,e.skip,e.take,e.sort,e.order,e.filter)}}),d.types=["line","stackedLine","fullStackedLine"],d.charIsUpdating=!1,d.chartOptionsFirst={onDone:function(){var e=$("#zoomedChartFirst").dxChart("instance");if(!d.charIsUpdating){var a=[],i="left";d.chartOptionsFirst.valueAxis.forEach(function(n,s){var o=t.checkCharCamp[n.name];a.push({name:n.name,position:i,label:{alignment:"center",customizeText:function(){d.charIsUpdating=!0;var a=e._valueAxes[s]._majorTicks,t=null;if(Array.isArray(a)&&t<a[a.length-1].value&&(t=a[a.length-1].value),this.value==t)switch(n.name){case"impression":return'<span style="color:black; font-weight: bolder; text-decoration:underline;">'+l("CAMP.CHECKBOX.IMPRESSIONS")+"</span><br>"+this.value;case"cpa":return'<span style="color:black; font-weight: bolder; text-decoration:underline;">'+l("CAMP.CHECKBOX.CPA")+"</span><br>"+this.value;case"cpc":return'<span style="color:black; font-weight: bolder; text-decoration:underline;">'+l("CAMP.CHECKBOX.CPC")+"</span><br>"+this.value;case"clicks":return'<span style="color:black; font-weight: bolder; text-decoration:underline;">'+l("CAMP.CHECKBOX.CLICKS")+"</span><br>"+this.value;case"mediaspent":return'<span style="color:black; font-weight: bolder; text-decoration:underline;">'+l("CAMP.CHECKBOX.MEDIA_SPENT")+"</span><br>"+this.value;case"conversions":return'<span style="color:black; font-weight: bolder; text-decoration:underline;">'+l("CAMP.CHECKBOX.CONVERSIONS")+"</span><br>"+this.value;case"ctr":return'<span style="color:black; font-weight: bolder; text-decoration:underline;">'+l("CAMP.CHECKBOX.CTR")+"</span><br>"+this.value;default:return'<span style="color:black; font-weight: bolder; text-decoration:underline;">'+n.name+"</span><br>"+this.value}return this.value}}}),o&&(i="left"==i?"right":"left")}),e.option("valueAxis",a)}},onInitialized:function(e){d.chartOptionsFuncFirst=e.component},valueAxis:[{name:"impression",position:"left"},{name:"cpa",position:"left"},{name:"cpc",position:"left"},{name:"clicks",position:"left"},{name:"mediaspent",position:"left"},{name:"conversions",position:"left"},{name:"ctr",position:"left"}],argumentAxis:{discreteAxisDivisionMode:"crossLabels",grid:{visible:!0}},crosshair:{enabled:!0,color:"deepskyblue",label:{visible:!0}},legend:{verticalAlignment:"top",horizontalAlignment:"center",itemTextPosition:"top"},commonSeriesSettings:{point:{size:7,hoverStyle:{border:{visible:!0,width:2},size:5}}},bindingOptions:{dataSource:"campmain.chartStore"},series:d.seriesCamp,loadingIndicator:{show:!0,text:"Creating a chart..."}},d.rangeOptionsFirst={size:{height:80},scale:{minorTickInterval:"day",tickInterval:{days:1},minRange:"day",maxRange:"year",minorTick:{visible:!0}},bindingOptions:{dataSource:"campmain.chartStore"},dataSourceField:"day",sliderMarker:{format:"monthAndDay"},behavior:{callSelectedRangeChanged:"onMoving"},onSelectedRangeChanged:function(a){var t=e.$("#zoomedContainerFirst #zoomedChartFirst").dxChart("instance");t.zoomArgument(a.startValue,a.endValue)}},d.updateCharts=function(a,i,n){t.checkCharCamp[i]=n,d.gridCharts=e.$("#zoomedChartFirst").dxChart("instance"),d.rangeChartFirst=e.$("#rangeChartFirst").dxRangeSelector("instance"),n?d.gridCharts.getSeriesByName(a).show():d.chartOptionsFuncFirst.getSeriesByName(a).hide()},d.onlyTwo=function(e){var a=0,t=[],i=[];for(a=0;a<d.Init.length;a++)1==d.Init[a]._options.value?t.push(d.Init[a]):i.push(d.Init[a]);if(1==e){if(2==t.length&&i.length>4)for(a=0;a<i.length;a++)i[a].option("disabled",!0)}else if(t.length<=2)for(a=0;a<i.length;a++)i[a].option("disabled",!1)},d.impressions={text:l("CAMP.CHECKBOX.IMPRESSIONS"),value:t.checkCharCamp.impression,onInitialized:function(e){d.Init.push(e.component)},onValueChanged:function(e){d.updateCharts("Impressions","impression",e.value),d.onlyTwo(e.value),d.charIsUpdating=!1,d.chartOptionsFirst.onDone(),r()}},d.CPA={text:l("CAMP.CHECKBOX.CPA"),value:t.checkCharCamp.cpa,onInitialized:function(e){d.Init.push(e.component)},onValueChanged:function(e){d.updateCharts("CPA","cpa",e.value),d.onlyTwo(e.value),d.charIsUpdating=!1,d.chartOptionsFirst.onDone(),r()}},d.CPC={text:l("CAMP.CHECKBOX.CPC"),value:t.checkCharCamp.cpc,onInitialized:function(e){d.Init.push(e.component)},onValueChanged:function(e){d.updateCharts("CPC","cpc",e.value),d.onlyTwo(e.value),d.charIsUpdating=!1,d.chartOptionsFirst.onDone(),r()}},d.clicks={text:l("CAMP.CHECKBOX.CLICKS"),value:t.checkCharCamp.clicks,onInitialized:function(e){d.Init.push(e.component)},onValueChanged:function(e){d.updateCharts("Clicks","clicks",e.value),d.onlyTwo(e.value),d.charIsUpdating=!1,d.chartOptionsFirst.onDone(),r()}},d.media={text:l("CAMP.CHECKBOX.MEDIA_SPENT"),value:t.checkCharCamp.mediaspent,onInitialized:function(e){d.Init.push(e.component)},onValueChanged:function(e){d.updateCharts("mediaspent","mediaspent",e.value),d.onlyTwo(e.value),d.charIsUpdating=!1,d.chartOptionsFirst.onDone(),r()}},d.conversions={text:l("CAMP.CHECKBOX.CONVERSIONS"),value:t.checkCharCamp.conversions,onInitialized:function(e){d.Init.push(e.component)},onValueChanged:function(e){d.updateCharts("Conversions","conversions",e.value),d.onlyTwo(e.value),d.charIsUpdating=!1,d.chartOptionsFirst.onDone(),r()}},d.CTR={text:l("CAMP.CHECKBOX.CTR"),value:t.checkCharCamp.ctr,onInitialized:function(e){d.Init.push(e.component)},onValueChanged:function(e){d.updateCharts("CTR","ctr",e.value),d.onlyTwo(e.value),d.charIsUpdating=!1,d.chartOptionsFirst.onDone(),r()}},n(function(){var e=0,a=[],t=[];for(e=0;e<d.Init.length;e++)1==d.Init[e]._options.value?a.push(d.Init[e]):t.push(d.Init[e]);if(a.length>=2&&t.length>4)for(e=0;e<t.length;e++)t[e].option("disabled",!0)}),null==t.SelectedTime?(t.SelectedTime=0,t.dataStart=e.moment({hour:"00"}).subtract(1,"day").unix(),t.dataEnd=e.moment({hour:"00"}).subtract(1,"day").endOf("day").unix(),d.dataStart=e.moment({hour:"00"}).subtract(1,"day").unix(),d.dataEnd=e.moment({hour:"00"}).subtract(1,"day").endOf("day").unix()):null==t.dataStart||null==t.dataEnd?(t.SelectedTime=0,t.dataStart=e.moment({hour:"00"}).subtract(1,"day").unix(),t.dataEnd=e.moment({hour:"00"}).subtract(1,"day").endOf("day").unix(),d.dataStart=e.moment({hour:"00"}).subtract(1,"day").unix(),d.dataEnd=e.moment({hour:"00"}).subtract(1,"day").endOf("day").unix()):(d.dataStart=t.dataStart,d.dataEnd=t.dataEnd);var c=[{ID:0,Name:l("MAIN.DATE_PICKER.YESTERDAY"),dataStart:e.moment({hour:"00"}).subtract(1,"day").unix(),dataEnd:e.moment({hour:"00"}).subtract(1,"day").endOf("day").unix()},{ID:1,Name:l("MAIN.DATE_PICKER.LAST_3_DAYS"),dataStart:e.moment({hour:"00"}).subtract(3,"day").unix(),dataEnd:e.moment({hour:"00"}).unix()},{ID:2,Name:l("MAIN.DATE_PICKER.LAST_7_DAYS"),dataStart:e.moment({hour:"00"}).subtract(7,"day").unix(),dataEnd:e.moment({hour:"00"}).unix()},{ID:3,Name:l("MAIN.DATE_PICKER.LAST_14_DAYS"),dataStart:e.moment({hour:"00"}).subtract(14,"day").unix(),dataEnd:e.moment({hour:"00"}).unix()},{ID:4,Name:l("MAIN.DATE_PICKER.LAST_21_DAYS"),dataStart:e.moment({hour:"00"}).subtract(21,"day").unix(),dataEnd:e.moment({hour:"00"}).unix()},{ID:5,Name:l("MAIN.DATE_PICKER.CURRENT_MONTH"),dataStart:e.moment().startOf("month").unix(),dataEnd:e.moment().unix()},{ID:6,Name:l("MAIN.DATE_PICKER.LAST_MONTH"),dataStart:e.moment().subtract(1,"month").startOf("month").unix(),dataEnd:e.moment().subtract(1,"month").endOf("month").unix()},{ID:7,Name:l("MAIN.DATE_PICKER.LAST_90_DAYS"),dataStart:e.moment({hour:"00"}).subtract(90,"day").unix(),dataEnd:e.moment().unix()},{ID:8,Name:l("MAIN.DATE_PICKER.ALL_TIME"),dataStart:0,dataEnd:e.moment().unix()}];d.datePiker={items:c,displayExpr:"Name",valueExpr:"ID",value:c[t.SelectedTime].ID,onValueChanged:function(e){t.SelectedTime=e.value,t.dataStart=c[e.value].dataStart,t.dataEnd=c[e.value].dataEnd,a.reload()}},d.chartOptionsSecond={bindingOptions:{dataSource:"campmain.boxPlotStore"},valueAxis:{title:"CPA, $"},argumentAxis:{grid:{visible:!0},discreteAxisDivisionMode:"crossLabels"},tooltip:{enabled:!0,customizeTooltip:function(e){return"Series 2"===e.seriesName?{text:"Average: $"+e.originalValue}:"Series 1"===e.seriesName?{text:"Open: $"+e.openValue+"<br/>Close: $"+e.closeValue+"<br/>High: $"+e.highValue+"<br/>Low: $"+e.lowValue+"<br/>"}:void 0}},legend:{visible:!1},loadingIndicator:{show:!0,text:"Creating a chart..."},useAggregation:!0,commonSeriesSettings:{candlestick:{openValueField:"open",closeValueField:"close",highValueField:"high",lowValueField:"low"},argumentField:"day",point:{size:6,hoverStyle:{border:{visible:!0,width:1},size:4}}},series:[{type:"candlestick"},{valueField:"avg",color:"silver"}]},d.rangeOptionsSecond={size:{height:80},bindingOptions:{dataSource:"campmain.boxPlotStore"},scale:{minorTickInterval:"day",tickInterval:{days:1},minRange:"day",maxRange:"year",minorTick:{visible:!0}},dataSourceField:"day",sliderMarker:{format:"monthAndDay"},behavior:{callSelectedRangeChanged:"onMoving"},onSelectedRangeChanged:function(a){var t=e.$("#zoomedContainerSecond #zoomedChartSecond").dxChart("instance");t.zoomArgument(new Date(a.startValue),new Date(a.endValue))}},d.selectedItems=[],d.chartOptionsFuncgrid=[],null==t.boxPlotData&&(t.boxPlotData=d.boxPlotData),d.state="",d.selectCell={dataSource:[{name:"White List",state:"whiteList"},{name:"Black List",state:"blackList"},{name:"Suspended",state:"suspended"}],disabled:!0,placeholder:"Select a state",displayExpr:"name",valueExpr:d.state,onSelectionChanged:function(){var a=e.$("#gridContainer2")[0].querySelectorAll('[aria-selected="true"]');if(a[0])for(var t=[],i=0;i<a.length;i++)t.push(a[i].firstChild.innerText)}},d.dataGridOptionsCampaign={onInitialized:function(e){d.dataGridOptionsMultipleFunc=e.component,d.dataGridOptionsMultipleFunc._controllers.columns._commandColumns[1].visibleIndex=9,d.dataGridOptionsMultipleFunc._controllers.columns._commandColumns[1].width=35},onRowPrepared:function(e){if(d.objectData=e,"data"==d.objectData.rowType){var a=e.rowElement[0].childNodes[9],t=e.data.state;"true"==t.whiteList&&a.classList.add("active-white"),"true"==t.blackList&&a.classList.add("active-black"),"true"==t.suspended&&a.classList.add("active-suspended")}},showBorders:!0,alignment:"left",headerFilter:{visible:!0},bindingOptions:{dataSource:"campmain.gridStore"},paging:{pageSize:10},remoteOperations:!0,pager:{showPageSizeSelector:!0,allowedPageSizes:[10,30,50],visible:!0,showNavigationButtons:!0},allowColumnReordering:!0,allowColumnResizing:!0,columnAutoWidth:!0,wordWrapEnabled:!0,howBorders:!0,showRowLines:!0,columns:[{caption:l("CAMP.CAMPAIGN.COLUMNS.PLACEMENT"),dataField:"placement",alignment:"center"},{caption:l("CAMP.CAMPAIGN.COLUMNS.NETWORK"),dataField:"NetworkPublisher",alignment:"center"},{caption:l("CAMP.CAMPAIGN.COLUMNS.CONV"),dataField:"conv",alignment:"center",format:"fixedPoint"},{caption:l("CAMP.CAMPAIGN.COLUMNS.IMP"),dataField:"imp",sortOrder:"desc",alignment:"center",format:"fixedPoint"},{caption:l("CAMP.CAMPAIGN.COLUMNS.CPA")+" ,$",dataField:"cpa",alignment:"center",format:"fixedPoint"},{caption:l("CAMP.CAMPAIGN.COLUMNS.COST")+" ,$",dataField:"cost",alignment:"center",format:"fixedPoint"},{caption:l("CAMP.CAMPAIGN.COLUMNS.CLICKS"),dataField:"clicks",alignment:"center",format:"fixedPoint"},{caption:l("CAMP.CAMPAIGN.COLUMNS.CPC")+" ,$",dataField:"cpc",alignment:"center",format:"fixedPoint"},{caption:l("CAMP.CAMPAIGN.COLUMNS.CPM")+" ,$",dataField:"cpm",alignment:"center",format:"fixedPoint"},{caption:l("CAMP.CAMPAIGN.COLUMNS.CVR")+" ,%",dataField:"cvr",alignment:"center"},{caption:l("CAMP.CAMPAIGN.COLUMNS.CTR")+" ,%",dataField:"ctr",alignment:"center"},{caption:l("CAMP.CAMPAIGN.COLUMNS.IMPS_VIEWED"),dataField:"imps_viewed",alignment:"center",visible:!1,width:80,format:"fixedPoint"},{caption:l("CAMP.CAMPAIGN.COLUMNS.VIEW_MEASURED_IMPS"),dataField:"view_measured_imps",alignment:"center",visible:!1,width:100,format:"fixedPoint"},{caption:l("CAMP.CAMPAIGN.COLUMNS.VIEW_MEASUREMENT_RATE")+" ,%",dataField:"view_measurement_rate",alignment:"center",visible:!1,width:120},{caption:l("CAMP.CAMPAIGN.COLUMNS.VIEW_RATE")+" ,%",dataField:"view_rate",alignment:"center",visible:!1,width:80},{caption:"State",width:300,columnIndex:16,headerCellTemplate:"headerCellTemplate",cellTemplate:function(a,t){e.$("<div />").dxButton({text:"white",height:30,width:89,disabled:!0,onClick:function(e){var a=e.element[0].parentNode;a.classList.contains("active-white")?(a.classList.remove("active-white"),a.classList.add("unactive-white"),t.data.state.whiteList="false"):a.classList.contains("active-white")||(a.classList.remove("unactive-white"),a.classList.add("active-white"),t.data.state.whiteList="true",t.data.state.suspended="false",t.data.state.blackList="false",a.classList.remove("active-black"),a.classList.remove("active-suspended"))}}).addClass("white-list").appendTo(a),e.$("<div />").dxButton({text:"black",height:30,width:89,disabled:!0,onClick:function(e){var a=e.element[0].parentNode;a.classList.contains("active-black")?(a.classList.remove("active-black"),a.classList.add("unactive-black"),t.data.state.blackList="false"):a.classList.contains("active-black")||(a.classList.remove("unactive-black"),a.classList.add("active-black"),t.data.state.blackList="true",t.data.state.suspended="false",t.data.state.whiteList="false",a.classList.remove("active-white"),a.classList.remove("active-suspended"))}}).addClass("black-list").appendTo(a),e.$("<div />").dxButton({text:"suspend",height:30,width:95,disabled:!0,onClick:function(e){var a=e.element[0].parentNode;a.classList.contains("active-suspended")?(a.classList.remove("active-suspended"),a.classList.add("unactive-suspended"),t.data.state.suspended="false"):a.classList.contains("active-suspended")||(a.classList.remove("unactive-suspended"),a.classList.add("active-suspended"),t.data.state.suspended="true",t.data.state.whiteList="false",t.data.state.blackList="false",a.classList.remove("active-white"),a.classList.remove("active-black"))}}).addClass("suspended").appendTo(a)}}],summary:{totalItems:[]},columnChooser:{enabled:!0,height:180,width:400,emptyPanelText:"A place to hide the columns"},onSelectionChanged:function(e){d.selectedItems=e.selectedRowsData,d.disabled=!d.selectedItems.length}},d.rangeFirstChartOptions={margin:{left:50},scale:{startValue:new Date(t.dataStart),endValue:new Date(t.dataEnd),minorTickInterval:"day",minRange:"hour",maxRange:"month",minorTick:{visible:!1}},sliderMarker:{format:"monthAndDay"}},d.rangeSecondChartOptions={margin:{left:50,top:12},size:{height:150,width:450},scale:{startValue:new Date(t.dataStart),endValue:new Date(t.dataEnd),minorTickInterval:"day",minRange:"day",maxRange:"month",minorTick:{visible:!1}},sliderMarker:{format:"monthAndDay"}},d.ctrlBbtns={placement:{btn:"Placement",header:"Placement"},creativeId:{btn:"creative_id",header:"creative_id"},creativeSize:{btn:"creative_size",header:"creative_size"},viewability:{btn:"viewability",header:"viewability"},os:{btn:"OS",header:"Operating System used"},carrier:{btn:"carrier",header:"carrier"},networkSeller:{btn:"network(seller)",header:"network (seller)"},connectionType:{btn:"connection_type",header:"connection_type"},device:{btn:"device",header:"device"},seller:{btn:"seller",header:"Seller"}},d.pieChartHeader=t.pieChartHeader||d.ctrlBbtns.os.header}e.$inject=["$window","$state","$localStorage","$translate","$timeout","CampMain","Campaign"],angular.module("pjtLayout").controller("CampaignMainController",e)}(),function(){"use strict";function e(e,a){function t(t){return e({method:"GET",headers:{Authorization:"Token "+a.get("token")},url:"/api/v1/campaigns/"+encodeURI(t)}).then(function(e){return e.data})}function i(t,i,n,s){return e({method:"GET",url:"/api/v1/campaigns/"+encodeURI(t)+"/details",headers:{Authorization:"Token "+a.get("token")},params:{from_date:i,to_date:n,section:s}}).then(function(e){for(var a in e.data.all)e.data.all[a].data=+parseFloat(e.data.all[a].data).toFixed(4);for(var a in e.data.conversions)e.data.conversions[a].data=+parseFloat(e.data.conversions[a].data).toFixed(4);return e.data})}function n(t,i,n,s){return e({method:"GET",url:"/api/v1/campaigns/"+encodeURI(t)+"/cpabuckets",headers:{Authorization:"Token "+a.get("token")},params:{id:t,from_date:i,to_date:n,category:s}}).then(function(e){for(var a in e.data)e.data[a].cpa=+parseFloat(e.data[a].cpa).toFixed(3);return e.data})}var s=this;s.nameCampaigns=t,s.bucketsCpa=n,s.detailsStoreAll=i}e.$inject=["$http","$cookies"],angular.module("pjtLayout").service("CampDetails",e)}(),function(){"use strict";function e(e,a,t,i,n,s,o,r){var d=this;d.Camp=n,d.multipleTotalCount=0,d.checkChart=[],d.by="imp,cvr,cpc,clicks,spend,conv,ctr";i.instant;d.campName=r.campaign,d.campId=r.id,d.cpaResult=[],d.selectedSection=t.selectedSection,d.detailsStoreAll=new e.DevExpress.data.CustomStore({totalCount:function(){return 0},load:function(){return s.all}}),d.detailsStoreConversion=new e.DevExpress.data.CustomStore({
totalCount:function(){return 0},load:function(){return s.conversions}}),d.cpaBucketRequestFirst=new e.DevExpress.data.CustomStore({totalCount:function(){return 0},load:function(){d.cpaResult=o;for(var e=[],a=0;a<d.cpaResult.length;a++)+d.cpaResult[a].cpa>=d.backetsRanges.first.min&&+d.cpaResult[a].cpa<d.backetsRanges.first.max&&e.push(d.cpaResult[a]);return e}}),d.cpaBucketRequestSecond=new e.DevExpress.data.CustomStore({totalCount:function(){return 0},load:function(){for(var e=[],a=0;a<d.cpaResult.length;a++)+d.cpaResult[a].cpa>=d.backetsRanges.second.min&&+d.cpaResult[a].cpa<d.backetsRanges.second.max&&e.push(d.cpaResult[a]);return e}}),d.cpaBucketRequestThird=new e.DevExpress.data.CustomStore({totalCount:function(){return 0},load:function(){for(var e=[],a=0;a<d.cpaResult.length;a++)+d.cpaResult[a].cpa>=d.backetsRanges.third.min&&+d.cpaResult[a].cpa<d.backetsRanges.third.max&&e.push(d.cpaResult[a]);return e}}),d.cpaBucketRequestFourth=new e.DevExpress.data.CustomStore({totalCount:function(){return 0},load:function(){for(var e=[],a=0;a<d.cpaResult.length;a++)+d.cpaResult[a].cpa>=d.backetsRanges.fourth.min&&+d.cpaResult[a].cpa<d.backetsRanges.fourth.max&&e.push(d.cpaResult[a]);return e}}),d.ctrlBbtns={placement:{btn:"Placement",header:"Placement"},creativeId:{btn:"creative_id",header:"creative_id"},creativeSize:{btn:"creative_size",header:"creative_size"},os:{btn:"OS",header:"Operating System used"},carrier:{btn:"carrier",header:"carrier"},networkSeller:{btn:"network(seller)",header:"network (seller)"},connectionType:{btn:"connection_type",header:"connection_type"},device:{btn:"device",header:"device"}},d.pieChartHeader=t.pieChartHeader||d.ctrlBbtns.placement.header,d.btnsNodesArray=e.$(".label-container")[0].children;for(var l in d.ctrlBbtns)d.ctrlBbtns[l].header==d.pieChartHeader&&(d.selectedSection=d.ctrlBbtns[l].btn,t.selectedSection=d.selectedSection);Array.prototype.forEach.call(d.btnsNodesArray,function(e){e.name==d.selectedSection&&e.classList.add("nav-btn-active")}),d.selectInfoBtn=function(e,i){d.pieChartHeader=i,t.pieChartHeader=d.pieChartHeader,Array.prototype.forEach.call(d.btnsNodesArray,function(e){e.classList.contains("nav-btn-active")&&e.classList.remove("nav-btn-active")}),t.pieChartHeader=d.pieChartHeader,e.currentTarget.classList.add("nav-btn-active");for(var n in d.ctrlBbtns)d.ctrlBbtns[n].header==d.pieChartHeader&&(t.selectedSection=d.ctrlBbtns[n].btn);a.reload()},d.targetCpa||(d.targetCpa=t.targetCpa||1,t.targetCpa=d.targetCpa),d.backetsRanges={first:{min:0,max:Number(d.targetCpa).toFixed(2)},second:{min:Number(d.targetCpa).toFixed(2),max:Number(2*d.targetCpa).toFixed(2)},third:{min:Number(2*d.targetCpa).toFixed(2),max:Number(3*d.targetCpa).toFixed(2)},fourth:{min:Number(3*d.targetCpa).toFixed(2),max:Number(1e5*d.targetCpa).toFixed(2)}},d.targetCpaChange=function(a){var i=Number(a.currentTarget.value);return t.targetCpa=i,d.backetsRanges={first:{min:0,max:i.toFixed(2)},second:{min:i.toFixed(2),max:(2*i).toFixed(2)},third:{min:(2*i).toFixed(2),max:(3*i).toFixed(2)},fourth:{min:(3*i).toFixed(2),max:(1e5*i).toFixed(2)}},e.$("#backets-1").dxDataGrid("instance").refresh(),e.$("#backets-2").dxDataGrid("instance").refresh(),e.$("#backets-3").dxDataGrid("instance").refresh(),e.$("#backets-4").dxDataGrid("instance").refresh(),d.backetsRanges},d.pieChartAll={title:{text:"All",font:{size:20},margin:{bottom:1}},bindingOptions:{dataSource:"campdetails.detailsStoreAll"},legend:{visible:!1},tooltip:{enabled:!0,format:{type:"millions",percentPrecision:2},customizeTooltip:function(e){return{text:e.argument+" - "+e.value+"%"}}},series:[{argumentField:"section",valueField:"data",smallValuesGrouping:{mode:"topN",topCount:25}}]},d.pieChartConversions={title:{text:"Conversions",font:{size:20},margin:{bottom:1}},bindingOptions:{dataSource:"campdetails.detailsStoreConversion"},legend:{visible:!1},tooltip:{enabled:!0,customizeTooltip:function(e){return{text:e.argument+" - "+e.value+"%"}}},series:[{argumentField:"section",valueField:"data",smallValuesGrouping:{mode:"topN",topCount:25}}]},d.columnsPlacement=[{caption:"sellerid",dataField:"sellerid"},{caption:"sellername",dataField:"sellername"},{caption:"placementid",dataField:"placementid"},{caption:"placementname",dataField:"placementname"},{caption:"cpa, $",dataField:"cpa",sortOrder:"desc"}],d.columnsCreativeId=[{caption:"creative id",dataField:"creative"},{caption:"creative name",dataField:"creative_name"},{caption:"cpa, $",dataField:"cpa",sortOrder:"desc"}],d.columnsCreativeSize=[{caption:"size",dataField:"size"},{caption:"cpa, $",dataField:"cpa",sortOrder:"desc"}],d.columnsOs=[{caption:"operating system id",dataField:"operating_system"},{caption:"operating system",dataField:"operating_system_name"},{caption:"cpa, $",dataField:"cpa",sortOrder:"desc"}],d.columnsCarrier=[{caption:"carrier id",dataField:"carrier"},{caption:"carrier name",dataField:"carrier_name"},{caption:"cpa, $",dataField:"cpa",sortOrder:"desc"}],d.columnsNetworkSeller=[{caption:"seller member",dataField:"seller_member"},{caption:"seller member name",dataField:"seller_member_name"},{caption:"cpa, $",dataField:"cpa",sortOrder:"desc"}],d.columnsConnectionType=[{caption:"connection type",dataField:"connection_type"},{caption:"cpa, $",dataField:"cpa",sortOrder:"desc"}],d.columnsDevice=[{caption:"device model",dataField:"device_model"},{caption:"device model name",dataField:"device_model_name"},{caption:"cpa, $",dataField:"cpa",sortOrder:"desc"}],"Placement"==t.selectedSection?d.columnsSelected=d.columnsPlacement:"creative_id"==t.selectedSection?d.columnsSelected=d.columnsCreativeId:"creative_size"==t.selectedSection?d.columnsSelected=d.columnsCreativeSize:"OS"==t.selectedSection?d.columnsSelected=d.columnsOs:"carrier"==t.selectedSection?d.columnsSelected=d.columnsCarrier:"network(seller)"==t.selectedSection?d.columnsSelected=d.columnsNetworkSeller:"connection_type"==t.selectedSection?d.columnsSelected=d.columnsConnectionType:"device"==t.selectedSection&&(d.columnsSelected=d.columnsDevice),d.cpaBucketFirst={showBorders:!0,alignment:"left",bindingOptions:{dataSource:"campdetails.cpaBucketRequestFirst"},howBorders:!0,showRowLines:!0,paging:{enabled:!0,pageSize:10},remoteOperations:!1,allowColumnReordering:!0,allowColumnResizing:!0,columnAutoWidth:!0,pager:{showPageSizeSelector:!0,allowedPageSizes:[10,30,50],visible:!0,showNavigationButtons:!0},columns:d.columnsSelected,"export":{enabled:!0,fileName:"cpa_first"}},d.cpaBucketSecond={showBorders:!0,alignment:"left",bindingOptions:{dataSource:"campdetails.cpaBucketRequestSecond"},howBorders:!0,showRowLines:!0,paging:{enabled:!0,pageSize:10},remoteOperations:!1,allowColumnReordering:!0,allowColumnResizing:!0,columnAutoWidth:!0,pager:{showPageSizeSelector:!0,allowedPageSizes:[10,30,50],visible:!0,showNavigationButtons:!0},columns:d.columnsSelected,"export":{enabled:!0,fileName:"cpa_second"}},d.cpaBucketThird={showBorders:!0,alignment:"left",bindingOptions:{dataSource:"campdetails.cpaBucketRequestThird"},howBorders:!0,showRowLines:!0,paging:{enabled:!0,pageSize:10},remoteOperations:!1,allowColumnReordering:!0,allowColumnResizing:!0,columnAutoWidth:!0,pager:{showPageSizeSelector:!0,allowedPageSizes:[10,30,50],visible:!0,showNavigationButtons:!0},columns:d.columnsSelected,"export":{enabled:!0,fileName:"cpa_third"}},d.cpaBucketFourth={showBorders:!0,alignment:"left",bindingOptions:{dataSource:"campdetails.cpaBucketRequestFourth"},howBorders:!0,showRowLines:!0,paging:{enabled:!0,pageSize:10},remoteOperations:!1,allowColumnReordering:!0,allowColumnResizing:!0,columnAutoWidth:!0,pager:{showPageSizeSelector:!0,allowedPageSizes:[10,30,50],visible:!0,showNavigationButtons:!0},columns:d.columnsSelected,"export":{enabled:!0,fileName:"cpa_fourth"}}}e.$inject=["$window","$state","$localStorage","$translate","CampDetails","ChartDetails","CpaBucketsAll","Campaign"],angular.module("pjtLayout").controller("CampaignDetailsController",e)}(),function(){"use strict";function e(){}angular.module("pjtLayout").controller("CampaignController",e)}(),function(){"use strict";function e(e,a){function t(){return e({method:"GET",headers:{Authorization:"Token "+a.get("token")},url:"/api/v1/advertisers"}).then(function(e){return e.data})}function i(a){return e({method:"POST",url:"/api/v1/login/",data:{email:a.email,password:a.password}}).then(function(e){return e})["catch"](function(e){return e})}var n=this;n.authorization=i,n.advertisersList=t}e.$inject=["$http","$cookies"],angular.module("pjtLayout").service("Auth",e)}(),function(){"use strict";function e(e,a,t,i,n,s,o){function r(t){return t||t.email&&t.password?(o.remove("permission"),o.remove("token"),c.Auth.authorization(t).then(function(e){200==e.status?(i.$reset(),o.put("token",e.data.token),o.put("permission",e.data.permission),!e.data.token||"adminfull"!=e.data.permission&&"adminread"!=e.data.permission||(a.$(".reg-form-wrapper")[0].classList.add("hide"),a.$(".advertiser-wrapper")[0].classList.add("show"),a.$(".admin-btn")[0].classList.add("show"),a.$(".admin-btn")[1].classList.add("show")),!e.data.token||"userfull"!=e.data.permission&&"userread"!=e.data.permission||(a.$(".reg-form-wrapper")[0].classList.add("hide"),a.$(".advertiser-wrapper")[0].classList.add("show"),a.$(".admin-btn")[0].classList.remove("show"),a.$(".admin-btn")[1].classList.add("show"))):(o.remove("permission"),o.remove("token"))})["catch"](function(a){e(a)})):void 0}function d(){t.go("admin")}function l(){o.remove("permission"),o.remove("token"),t.reload()}var c=this,m=n.instant;c.Auth=s,!o.get("token")||"adminfull"!=o.get("permission")&&"adminread"!=o.get("permission")||(a.$(".reg-form-wrapper")[0].classList.add("hide"),a.$(".advertiser-wrapper")[0].classList.add("show"),a.$(".admin-btn")[0].classList.add("show"),a.$(".admin-btn")[1].classList.add("show")),!o.get("token")||"userfull"!=o.get("permission")&&"userread"!=o.get("permission")||(a.$(".reg-form-wrapper")[0].classList.add("hide"),a.$(".advertiser-wrapper")[0].classList.add("show"),a.$(".admin-btn")[0].classList.remove("show"),a.$(".admin-btn")[1].classList.add("show")),c.addButton={text:m("AUTH.GO_BUTTON"),onClick:function(){i.advertiser=c.selectedService,t.go("home.main")}},c.selectAdvertisersStore=new a.DevExpress.data.CustomStore({totalCount:function(){return 0},load:function(){return c.Auth.advertisersList().then(function(e){return e})}}),c.selectAdvertisers={bindingOptions:{dataSource:"auth.selectAdvertisersStore",value:"auth.selectedService"},displayExpr:"name",width:"200px"},c.goToAdminPanel=d,c.logout=l,c.submitForm=r}e.$inject=["$log","$window","$state","$localStorage","$translate","Auth","$cookies"],angular.module("pjtLayout").controller("AuthController",e)}(),function(){"use strict";function e(e,a){function t(){return e({method:"GET",headers:{Authorization:"Token "+a.get("token")},url:"/api/v1/appnexus/user"}).then(function(e){return e.data})}function i(){return e({method:"GET",headers:{Authorization:"Token "+a.get("token")},url:"/api/v1/user/"}).then(function(e){return e.data})}function n(t){return e({method:"POST",url:"/api/v1/user/",headers:{Authorization:"Token "+a.get("token")},data:t}).then(function(e){return e.data})}function s(t){return e({method:"DELETE",url:"/api/v1/user/"+t,headers:{Authorization:"Token "+a.get("token")}}).then(function(e){return e.data})["catch"](function(){return[]})}var o=this;o.usersRemove=s,o.addUser=n,o.appNexusUser=t,o.usersList=i}e.$inject=["$http","$cookies"],angular.module("pjtLayout").service("AdminService",e)}(),function(){"use strict";function e(e,a,t,i,n,s){function o(){a.go("auth")}function r(a){return d.selectedService?(a.apnexus_user=d.selectedService.id,a.apnexusname=d.selectedService.username):(a.apnexus_user=null,a.apnexusname=null),("adminfull"==a.permission||"adminread"==a.permission)&&(a.apnexus_user=null),a.username=a.email,d.Admin.addUser(a).then(function(){d.user={},d.userForm.$setPristine(),e.$("#usersList").dxDataGrid("instance").refresh()})}var d=this,l=i.instant;d.Admin=s,d.users=new e.DevExpress.data.CustomStore({totalCount:function(){return 0},load:function(){return d.Admin.usersList().then(function(e){return e})},remove:function(e){return d.Admin.usersRemove(e.id)}}),d.listOfUsers={remoteOperations:!1,showBorders:!0,alignment:"left",bindingOptions:{dataSource:"admin.users"},headerFilter:{visible:!0},filterRow:{visible:!0,applyFilter:"auto"},pager:{showPageSizeSelector:!0,allowedPageSizes:[10,30,50],visible:!0,showNavigationButtons:!0},allowColumnReordering:!0,allowColumnResizing:!0,columnAutoWidth:!0,wordWrapEnabled:!0,howBorders:!0,showRowLines:!0,align:"left",editing:{allowDeleting:!0},columns:[{caption:"id",dataField:"id",alignment:"center"},{caption:l("ADMIN.LIST-USER.EMAIL"),dataField:"email",alignment:"center"},{caption:l("ADMIN.LIST-USER.FIRST-NAME"),dataField:"first_name",alignment:"center"},{caption:l("ADMIN.LIST-USER.LAST-NAME"),dataField:"last_name",alignment:"center"},{caption:l("ADMIN.LIST-USER.APNEXUS-ID"),dataField:"apnexusname",alignment:"center"},{caption:l("ADMIN.LIST-USER.APNEXUS-NAME"),dataField:"apnexus_user",alignment:"center"},{caption:l("ADMIN.LIST-USER.PERMISSION"),dataField:"permission",alignment:"center"}]},d.selectNexusUsers=new e.DevExpress.data.CustomStore({totalCount:function(){return 0},load:function(){return d.Admin.appNexusUser().then(function(e){return e})}}),d.selectAppNexusUser={bindingOptions:{dataSource:"admin.selectNexusUsers",value:"admin.selectedService"},placeholder:l("ADMIN.ANU.SELECT-NEXUS-USER"),displayExpr:"username"},d.submitForm=r,d.goToMainPage=o}e.$inject=["$window","$state","$localStorage","$translate","$cookies","AdminService"],angular.module("pjtLayout").controller("AdminController",e)}(),function(){"use strict";function e(e,a,t,i,n,s,o,r){i.$state=a,i.$stateParams=n;var d=i.$on("$stateChangeStart",function(e,a){"auth"!=a.name&&(r.get("token")||r.get("permission")||(s.$reset(),o.location="/")),"admin"==a.name&&("userfull"==r.get("permission")||"userread"==r.get("permission"))&&(s.$reset(),o.location="/")});i.$on("$destroy",d),e.debug("runBlock end")}e.$inject=["$log","$state","$http","$rootScope","$stateParams","$localStorage","$window","$cookies"],angular.module("pjtLayout").run(e)}(),function(){"use strict";function e(e,a){e.state("auth",{url:"/",templateUrl:"app/auth/auth.html",controller:"AuthController",controllerAs:"auth"}).state("home",{url:"/home",templateUrl:"app/home/home.html",controller:"HomeController",controllerAs:"home"}).state("home.main",{url:"/main",templateUrl:"app/main/main.html",controller:"MainController",controllerAs:"main"}).state("home.campaign",{templateUrl:"app/campaign/camp.html","abstract":!0}).state("home.campaign.details",{url:"/campaign/:id",views:{details:{templateUrl:"app/campaignmain/campmain.html",controller:"CampaignMainController",controllerAs:"campmain",resolve:{Campaign:["CampMain","$stateParams","$state",function(e,a,t){return a.id||t.go("home.main"),e.nameCampaigns(a.id).then(function(e){return e})}]}},info:{templateUrl:"app/campaigndetails/campdetails.html",controller:"CampaignDetailsController",controllerAs:"campdetails",resolve:{Campaign:["CampMain","$stateParams","$state",function(e,a,t){return a.id||t.go("home.main"),e.nameCampaigns(a.id).then(function(e){return e})}],ChartDetails:["CampDetails","$stateParams","$state","$localStorage",function(e,a,t,i){return a.id||t.go("home.main"),e.detailsStoreAll(a.id,i.dataStart,i.dataEnd,i.selectedSection).then(function(e){return e})["catch"](function(e){return e})}],CpaBucketsAll:["CampDetails","$stateParams","$state","$localStorage",function(e,a,t,i){return a.id||t.go("home.main"),e.bucketsCpa(a.id,i.dataStart,i.dataEnd,i.selectedSection).then(function(e){return e})["catch"](function(e){return e})}]}}}}).state("home.campaignoptimiser",{url:"/campaignoptimiser/:id",templateUrl:"app/campaignoptimiser/campaignoptimiser.html",controller:"CampaignOptimiserController",controllerAs:"CO",resolve:{Campaign:["CampMain","$stateParams","$state",function(e,a,t){return a.id||t.go("home.main"),e.nameCampaigns(a.id).then(function(e){return e})}]}}).state("admin",{url:"/admin/",templateUrl:"app/admin/admin.html",controller:"AdminController",controllerAs:"admin"}),a.otherwise("/")}e.$inject=["$stateProvider","$urlRouterProvider"],angular.module("pjtLayout").config(e)}(),function(){"use strict";angular.module("pjtLayout")}(),function(){"use strict";function e(e,a,t,i,n){e.debugEnabled(!0),t.translations("en",n),t.translations("ru",i),t.useSanitizeValueStrategy("escape"),t.preferredLanguage("ru"),t.useLocalStorage(),t.storageKey("TRANSLATE_LANG_KEY"),a.allowHtml=!0,a.timeOut=3e3,a.positionClass="toast-top-right",a.preventDuplicates=!0,a.progressBar=!0}e.$inject=["$logProvider","toastrConfig","$translateProvider","RussianTranslations","EnglishTranslations"],angular.module("pjtLayout").config(e)}(),angular.module("pjtLayout").run(["$templateCache",function(e){e.put("app/admin/admin.html",'<div class=admin><div class=location><div class=location-language><a ng-click="root.changeLang(\'ru\')"><i class="fa fa-globe fa-fw"></i> Русский </a>/ <a ng-click="root.changeLang(\'en\')"><i class="fa fa-globe fa-fw"></i> English</a></div><input type=button class="btn btn-danger admin-btn" ng-click=root.logout() value="{{ \'COMMON.LOGOUT\' | translate }}"> <input type=button class="btn btn-primary admin-btn" ng-click=admin.goToMainPage() value="{{ \'COMMON.TO-MAIN-PAGE\' | translate }}"></div><div class=row><div class="col-lg-3 col-md-3 col-sm-12 form-add-user"><h3>{{ \'ADMIN.ANU.ADD-NEW-USER\' | translate }}</h3><form name=admin.userForm ng-submit=admin.submitForm(admin.user) novalidate><div class=form-group ng-class="{ \'has-error\' : admin.userForm.email.$invalid && !admin.userForm.email.$pristine }"><input type=email name=email class="form-control input-item-login" placeholder="{{ \'ADMIN.ANU.EMAIL\' | translate }}" ng-model=admin.user.email required><p ng-show="admin.userForm.email.$invalid && !admin.userForm.email.$pristine && admin.userForm.email.$error.required" class=help-block>{{ \'ADMIN.ANU.MAIL-REQUIRED\' | translate }}</p><p ng-show="!admin.userForm.email.$error.required && admin.userForm.email.$invalid && !admin.userForm.email.$pristine" class=help-block>{{ \'ADMIN.ANU.MAIL-VALID\' | translate }}</p></div><div class=form-group ng-class="{ \'has-error\' : admin.userForm.password.$invalid && !admin.userForm.password.$pristine }"><input type=password class=form-control name=password ng-model=admin.user.password placeholder="{{ \'ADMIN.ANU.PASSWORD\' | translate }}" required><p ng-show="admin.userForm.password.$invalid && !admin.userForm.password.$pristine && admin.userForm.password.$error.required" class=help-block>{{ \'ADMIN.ANU.PASSWORD-REQUIRED\' | translate }}</p></div><div class=form-group ng-class="{ \'has-error\' : (admin.userForm.passwordconfirm.$invalid && !admin.userForm.passwordconfirm.$pristine) || ((admin.user.passwordconfirm !== admin.user.password) && !auth.userForm.password.$pristine)}"><input type=password class=form-control name=passwordconfirm ng-model=admin.user.passwordconfirm required placeholder="{{ \'ADMIN.ANU.CONFIRM-PASSWORD\' | translate }}"><p ng-show="!admin.userForm.passwordconfirm.$error.required && (admin.user.passwordconfirm !== admin.user.password) && !admin.userForm.passwordconfirm.$pristine" class=help-block>{{ \'ADMIN.ANU.CONFIRM-PASSWORD-INCORRECT\' | translate }}</p><p ng-show="admin.userForm.passwordconfirm.$invalid && !admin.userForm.passwordconfirm.$pristine && admin.userForm.passwordconfirm.$error.required" class=help-block>{{ \'ADMIN.ANU.CONFIRM-PASSWORD-REQUIRED\' | translate }}</p></div><!--        <div class="form-group" ng-class="{ \'has-error\' : admin.userForm.username.$invalid && !admin.userForm.username.$pristine }">\n          <input type="text" name= "username" class="form-control input-item-login"  placeholder="{{ \'ADMIN.ANU.USER-NAME\' | translate }}" ng-model="admin.user.username" required>\n          <p ng-show="admin.userForm.username.$invalid && !admin.userForm.username.$pristine && admin.userForm.username.$error.required" class="help-block">{{ \'ADMIN.ANU.USER-NAME-REQUIRED\' | translate }}</p>\n        </div>--><div class=form-group ng-class="{ \'has-error\' : admin.userForm.first_name.$invalid && !admin.userForm.first_name.$pristine }"><input type=text name=first_name class="form-control input-item-login" placeholder="{{ \'ADMIN.ANU.FIRST-NAME\' | translate }}" ng-model=admin.user.first_name required><p ng-show="admin.userForm.first_name.$invalid && !admin.userForm.first_name.$pristine && admin.userForm.first_name.$error.required" class=help-block>{{ \'ADMIN.ANU.FIRST-NAME-REQUIRED\' | translate }}</p></div><div class=form-group ng-class="{ \'has-error\' : admin.userForm.last_name.$invalid && !admin.userForm.last_name.$pristine }"><input type=text name=last_name class="form-control input-item-login" placeholder="{{ \'ADMIN.ANU.LAST-NAME\' | translate }}" ng-model=admin.user.last_name required><p ng-show="admin.userForm.last_name.$invalid && !admin.userForm.last_name.$pristine && admin.userForm.last_name.$error.required" class=help-block>{{ \'ADMIN.ANU.LAST-NAME-REQUIRED\' | translate }}</p></div><div class=form-group><select ng-model=admin.user.permission name=permission class="select-user-type form-control" title=user><option value="" disabled selected>{{ \'ADMIN.ANU.SELECT-PERMISSION\' | translate }}</option><option value=adminfull>admin full</option><option value=adminread>admin read-only</option><option value=userfull>user full</option><option value=userread>user read-only</option></select></div><div ng-show="admin.user.permission==\'userfull\' || admin.user.permission==\'userread\'" class=form-group><!--<select ng-model="admin.user.appnexususer" name="appnexususer" class="select-user-type form-control">--><!--<option value="" disabled selected>Select the appnexus user</option>--><!--<option ng-repeat="userappnexus in admin.appNexusUsers" value="{{userappnexus.name}}">{{userappnexus.name}}</option>--><!--</select>--><div dx-select-box=admin.selectAppNexusUser></div></div><button type=submit class="btn btn-primary" ng-disabled=admin.userForm.$invalid>{{ \'ADMIN.ANU.SUBMIT\' | translate }}</button></form></div><div class="col-lg-9 col-md-9 col-sm-12"><h3>{{ \'ADMIN.LIST-USER.TITLE\' | translate }}</h3><div dx-data-grid=admin.listOfUsers id=usersList></div></div></div></div>'),e.put("app/auth/auth.html",'<div class=location><div class=location-language><a ng-click="root.changeLang(\'ru\')"><i class="fa fa-globe fa-fw"></i> Русский </a>/ <a ng-click="root.changeLang(\'en\')"><i class="fa fa-globe fa-fw"></i> English</a></div><input type=button class="btn btn-primary admin-btn hide" ng-click=auth.goToAdminPanel() value="{{ \'COMMON.GO-TO-ADMIN-PANEL\' | translate }}"> <input type=button class="btn btn-danger admin-btn hide" ng-click=auth.logout() value="{{ \'COMMON.LOGOUT\' | translate }}"></div><div class="authorization container"><div class=row><div class="Absolute-Center is-Responsive reg-form-wrapper"><form name=auth.userForm ng-submit=auth.submitForm(auth.user) novalidate><!-- insert the name --><div class=col-sm-10><div class=form-group ng-class="{ \'has-error\' : auth.userForm.email.$invalid && !auth.userForm.email.$pristine }"><i class="fa fa-user fa-2x icon-for-user"></i> <input type=email name=email class="form-control input-item-login" placeholder="{{ \'AUTH.MAIL-PLACEHOLDER\' | translate }}" ng-model=auth.user.email required><p ng-show="auth.userForm.email.$invalid && !auth.userForm.email.$pristine && auth.userForm.email.$error.required" class=help-block>{{ \'AUTH.MAIL-REQUIRED\' | translate }}</p><p ng-show="!auth.userForm.email.$error.required && auth.userForm.email.$invalid && !auth.userForm.email.$pristine" class=help-block>{{ \'AUTH.MAIL-VALID\' | translate }}</p></div></div><div class=col-sm-10><div class=form-group ng-class="{ \'has-error\' : auth.userForm.password.$invalid && !auth.userForm.password.$pristine }"><i class="fa fa-unlock fa-2x icon-for-user"></i> <input type=password name=password class="input-item-password form-control input-item-password" ng-model=auth.user.password placeholder="{{ \'AUTH.MAIL-PASSWORD\' | translate }}" required max-length=10 min-length=4><p ng-show="auth.userForm.password.$invalid && !auth.userForm.password.$pristine" class=help-block>{{ \'AUTH.PASSWORD-REQUIRED\' | translate }}</p></div></div><div class=form-group><div class=col-sm-10><button type=submit class="submitting-button btn btn-success">{{ \'AUTH.MAIL-SUBMIT\' | translate }}</button></div></div></form></div><div class=advertiser-wrapper><div class="Absolute-Center is-Responsive"><div class="col-sm-12 col-md-10 col-md-offset-1"><div class=mode-button><div dx-select-box=auth.selectAdvertisers></div><div dx-button=auth.addButton class=add-advertisers></div></div></div></div></div></div></div>'),e.put("app/campaign/camp.html","<div ui-view=details></div><div ui-view=info></div>"),e.put("app/campaigndetails/campdetails.html",'<div class="container-fluid container-camp-second col-lg-12 col-md-12 col-sm-12"><div class="second-container-details row"><div class=label-container><input type=button ng-click="campdetails.selectInfoBtn($event, campdetails.ctrlBbtns.placement.header)" name=Placement value={{campdetails.ctrlBbtns.placement.btn}} class=nav-btn> <input type=button ng-click="campdetails.selectInfoBtn($event, campdetails.ctrlBbtns.creativeId.header)" name=creative_id value={{campdetails.ctrlBbtns.creativeId.btn}} class=nav-btn> <input type=button ng-click="campdetails.selectInfoBtn($event, campdetails.ctrlBbtns.creativeSize.header)" name=creative_size value={{campdetails.ctrlBbtns.creativeSize.btn}} class=nav-btn> <input type=button ng-click="campdetails.selectInfoBtn($event, campdetails.ctrlBbtns.os.header)" name=OS value={{campdetails.ctrlBbtns.os.btn}} class=nav-btn> <input type=button ng-click="campdetails.selectInfoBtn($event, campdetails.ctrlBbtns.carrier.header)" name=carrier value={{campdetails.ctrlBbtns.carrier.btn}} class=nav-btn> <input type=button ng-click="campdetails.selectInfoBtn($event, campdetails.ctrlBbtns.networkSeller.header)" name=network(seller) value={{campdetails.ctrlBbtns.networkSeller.btn}} class=nav-btn> <input type=button ng-click="campdetails.selectInfoBtn($event, campdetails.ctrlBbtns.connectionType.header)" name=connection_type value={{campdetails.ctrlBbtns.connectionType.btn}} class=nav-btn> <input type=button ng-click="campdetails.selectInfoBtn($event, campdetails.ctrlBbtns.device.header)" name=device value={{campdetails.ctrlBbtns.device.btn}} class=nav-btn></div><div class=pie-chart-container><div class=header-pie-chart><div class=pie-chart-header><h4>{{campdetails.pieChartHeader}}</h4></div><div class=target-cpa-container><div class=input-target-cpa-text>target CPA</div><input class=input-target-cpa type=text ng-blur=campdetails.targetCpaChange($event) ng-keyup="$event.keyCode == 13 && campdetails.targetCpaChange($event)" ng-model=campdetails.targetCpa maxlength=4></div></div><div class=pie-charts><div class=chart-container dx-pie-chart=campdetails.pieChartAll></div><div class=chart-container dx-pie-chart=campdetails.pieChartConversions></div></div><div class=row><div class="col-lg-6 cpa-buckets-container"><span class=first>${{campdetails.backetsRanges.first.min}}-${{campdetails.backetsRanges.first.max}}</span><div id=backets-1 dx-data-grid=campdetails.cpaBucketFirst></div></div><div class="col-lg-6 cpa-buckets-container"><span class=first>${{campdetails.backetsRanges.second.min}}-${{campdetails.backetsRanges.second.max}}</span><div id=backets-2 dx-data-grid=campdetails.cpaBucketSecond></div></div></div><div class=row><div class="col-lg-6 cpa-buckets-container"><span class=first>${{campdetails.backetsRanges.third.min}}-${{campdetails.backetsRanges.third.max}}</span><div id=backets-3 dx-data-grid=campdetails.cpaBucketThird></div></div><div class="col-lg-6 cpa-buckets-container"><span class=first>${{campdetails.backetsRanges.fourth.min}}+</span><div id=backets-4 dx-data-grid=campdetails.cpaBucketFourth></div></div></div></div></div></div>'),e.put("app/campaignmain/campmain.html",'<div class="container-fluid container-camp col-lg-12 col-md-12 col-sm-12"><div class="row stats-header"><span translate=CAMP.NAME class=camp-header></span><span class=camp-header>: {{campmain.campName}}</span><div class=control dx-button=campmain.optimiser></div><div class="control pull-right" dx-select-box=campmain.datePiker></div></div><div class="row camp-content1"><div class="row-fluid charts-block"><div id=zoomedContainerFirst class="first-chart col-lg-5 col-md-9 col-sm-9 col-xs-9"><div id=zoomedChartFirst dx-chart=campmain.chartOptionsFirst></div><div dx-range-selector=campmain.rangeOptionsFirst id=rangeChartFirst></div></div><div class=checkbox-container><div><label class=label-checkbox><div dx-check-box=campmain.impressions></div></label><label class=label-checkbox><div dx-check-box=campmain.CPA></div></label><label class=label-checkbox><div dx-check-box=campmain.CPC></div></label><label class=label-checkbox><div dx-check-box=campmain.clicks></div></label><label class=label-checkbox><div dx-check-box=campmain.media></div></label><label class=label-checkbox><div dx-check-box=campmain.conversions></div></label><label class=label-checkbox><div dx-check-box=campmain.CTR></div></label></div></div><div id=zoomedContainerSecond class="first-chart col-lg-5 col-md-10 col-sm-10"><div id=zoomedChartSecond dx-chart=campmain.chartOptionsSecond></div><div dx-range-selector=campmain.rangeOptionsSecond></div></div></div></div><div class="row first-grid"><div id=gridContainer2 dx-data-grid=campmain.dataGridOptionsCampaign><div data-options="dxTemplate: {name: \'headerCellTemplate\'}"><div ng-model=main.state dx-select-box=$parent.campmain.selectCell></div></div></div></div></div>'),e.put("app/campaignoptimiser/campaignoptimiser.html",'<div class="container-camp col-lg-12 col-md-12 col-sm-12 col-xs-12"><div class=row><div dx-button=CO.navCamp></div><div class=active dx-button=CO.navView></div><div dx-button=CO.navList></div><br><span translate=CO.NAME class=camp-header></span>:<span class=camp-header> <a href="" ui-sref="home.campaign.details({id: CO.campId})">{{CO.campName}}</a></span><div class=subTitle><table><tr><td class=tdTitle><b translate=CO.ORIGINAL>Original</b></td><td class=tdText>-x-036_SLS_DYN_0_APX_0W0_CPM_MSM_MUL_US.California_300x250 (Direct)</td></tr><tr><td class=tdTitle><b translate=CO.OPTIMISED>Optimised (Whitelist)</b></td><td class=tdText>-x-037_SLX_DYN_0_APX_0W0_CPM_MSM_MUL_US.California_300x250 (Direct)</td></tr></table></div></div><div class="col-md-3 col-md-offset-8 piker col-sm-3 col-sm-offset-8 col-xs-5 col-xs-offset-6"><div dx-select-box=CO.datePiker></div></div><div class="row campOpt-content"><h3 class=titleRules translate=CO.RULES>Rules for All Domains:</h3><div class=form-inline><input type=checkbox class="checkbox-inline spends" name=spends checked> {{\'CO.SPENDS\' | translate}}<div class=input-group><div class=input-group-addon>$</div><input type=text class="form-control moneySpends" value=2></div>{{\'CO.CONVERSIONS1\' | translate}}<select class="form-control input-group sel2"><option>Blacklist</option><option>Suspend</option></select></div><div class="form-inline input-group"><label class=radio-inline><input type=radio name=optradio checked> AND</label><label class=radio-inline><input type=radio name=optradio> OR</label></div><!-- second line--><div class=form-inline><input type=checkbox class="checkbox-inline spends" name=spends> {{\'CO.APP\' | translate}} <input type=text class="form-control impSpends" value=1000000 placeholder=""> {{\'CO.CONVERSIONS2\' | translate}}<select class="form-control input-group sel2"><option>Blacklist</option><option>Suspend</option></select></div><div class="form-inline input-group"><label class=radio-inline><input type=radio name=optradio2 checked> AND</label><label class=radio-inline><input type=radio name=optradio2> OR</label></div><!-- third line--><div class=form-inline><input type=checkbox class="checkbox-inline spends" name=spends> {{\'CO.UNDISCLOSED\' | translate}}<select class="form-control input-group sel2"><option>Blacklist ASAP</option><option>no change</option></select></div><h3 class=titleRules translate=CO.DOMAIN-RULES>Domain-specific rules:</h3><div class="row rowGrid"><h3 class=titleRules translate=CO.CURRENT-LIST>Current list of placements - Live now</h3><div id=gridContainer2 dx-data-grid=CO.dataGridOptionsCampaign><div data-options="dxTemplate: {name: \'headerCellTemplate\'}"><div ng-model=main.state dx-select-box=$parent.campmain.selectCell></div></div></div></div><div class="row rowGrid"><h3 class=titleRules><b>Blacklist</b></h3><div id=gridContainer3 dx-data-grid=CO.dataGridOptionsCampaign3><div data-options="dxTemplate: {name: \'headerCellTemplate\'}"><div ng-model=main.state3 dx-select-box=$parent.campmain.selectCell3></div></div></div></div><div class="row rowGrid"><h3 class=titleRules><b>Whitelist</b></h3><div id=gridContainer4 dx-data-grid=CO.dataGridOptionsCampaign4><div data-options="dxTemplate: {name: \'headerCellTemplate\'}"><div ng-model=main.state4 dx-select-box=$parent.campmain.selectCell4></div></div></div></div></div></div>'),
e.put("app/home/home.html",'<div id=wrapper><!-- Brand and toggle get grouped for better mobile display --><div class=row><div class="left-nav col-lg-1 col-md-2 col-sm-2 col-xs-2"><ul class="nav nav-list"><li class=nav-header><a ui-sref=home.main translate=INDEX.LEFT_NAV.HOME></a></li><li class=active><a ui-sref=home.campaign.details translate=INDEX.LEFT_NAV.CAMPAIGN>Campaign</a></li><li><a href=#/ translate=INDEX.LEFT_NAV.OPTIMIZER>Optimizer</a></li><li><a href=#/ translate=INDEX.LEFT_NAV.BILLING>Billing</a></li></ul></div><input class=open id=top-box ng-model=home.value ng-click=home.checked(home.value) type=checkbox value=true hidden><label class=btn for=top-box></label><div class="main-nav navbar-header col-lg-11 col-md-10 col-sm-10 col-xs-10 col-lg-offset-1 col-md-offset-2 col-sm-offset-2 col-xs-offset-2"><div class=row><div class="col-lg-12 col-md-12 col-sm-12"><button type=button data-target=#navbarCollapse data-toggle=collapse class=navbar-toggle><span class=sr-only>Toggle navigation</span> <span class=icon-bar></span> <span class=icon-bar></span> <span class=icon-bar></span></button> <a href=# class=navbar-brand>{{ \'INDEX.ADVERTISER_TITLE\' | translate }} {{ home.advertiser.name }}</a><div class=location><div class=location-language><a ng-click="root.changeLang(\'ru\')"><i class="fa fa-globe fa-fw"></i> Русский </a>/ <a ng-click="root.changeLang(\'en\')"><i class="fa fa-globe fa-fw"></i> English</a></div><input type=button class="btn btn-danger admin-btn" ng-click=root.logout() value="{{ \'COMMON.LOGOUT\' | translate }}"> <input type=button id=homeAdm ng-show=home.isEven class="btn btn-primary admin-btn" ng-click=home.goToAdminPanel() value="{{ \'COMMON.GO-TO-ADMIN-PANEL\' | translate }}"></div></div></div></div><ui-view class="page-view col-lg-11 col-md-10 col-sm-10 col-xs-10 col-lg-offset-1 col-md-offset-2 col-sm-offset-2 col-xs-offset-2"></ui-view></div></div>'),e.put("app/main/main.html",'<div class="container-home col-lg-12 col-md-12 col-sm-12 col-xs-12"><h1 translate=MAIN.HOME>Home</h1><div class="col-md-3 col-md-offset-8 piker col-sm-3 col-sm-offset-8 col-xs-5 col-xs-offset-6"><div dx-select-box=main.datePiker></div></div><div class="row charts-block"><div class="col-lg-5 col-md-9 col-sm-9 col-xs-9 chart"><div dx-chart=main.chartOptions id=chart></div></div><div class=checkbox-container><label class=label-checkbox><div class=checkboxchart dx-check-box=main.impressions></div></label><label class=label-checkbox><div class=checkboxchart dx-check-box=main.CVR></div></label><label class=label-checkbox><div class=checkboxchart dx-check-box=main.CPC></div></label><label class=label-checkbox><div class=checkboxchart dx-check-box=main.clicks></div></label><label class=label-checkbox><div class=checkboxchart dx-check-box=main.media></div></label><label class=label-checkbox><div class=checkboxchart dx-check-box=main.conversions></div></label><label class=label-checkbox><div class=checkboxchart dx-check-box=main.CTR></div></label></div><div class="col-lg-5 col-md-12 col-sm-12 chart"><div id=visualMap></div></div></div><div class="row first-grid table-responsive"><table class="table table-bordered"><tr><td translate=MAIN.TOTALS.COLUMNS.TOTALS></td><td translate=MAIN.TOTALS.COLUMNS.SPENT></td><td translate=MAIN.TOTALS.COLUMNS.CONV></td><td translate=MAIN.TOTALS.COLUMNS.IMP></td><td translate=MAIN.TOTALS.COLUMNS.CPC></td><td translate=MAIN.TOTALS.COLUMNS.CPM></td><td translate=MAIN.TOTALS.COLUMNS.CVR></td><td translate=MAIN.TOTALS.COLUMNS.CTR></td></tr><tr><td></td><td>${{main.totals.spent}}</td><td>{{main.totals.conv}}</td><td>{{main.totals.imp}}</td><td>${{main.totals.cpc}}</td><td>${{main.totals.cpm}}</td><td>{{main.totals.cvr}}%</td><td>{{main.totals.ctr}}%</td></tr></table></div><div class="row second-grid"><div id=gridContainer2 dx-data-grid=main.dataGridOptionsMultiple></div></div></div>')}]);